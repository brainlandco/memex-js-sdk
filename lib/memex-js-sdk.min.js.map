{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///memex-js-sdk.min.js","webpack:///webpack/bootstrap 3f8da07bf7344c8647ef","webpack:///./src/Exports.js","webpack:///./src/Spaces.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/Auth.js","webpack:///./src/data/Media.js","webpack:///./src/data/Types.js","webpack:///./~/base-64/base64.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/utf8/utf8.js","webpack:///./src/data/User.js","webpack:///./src/data/Space.js","webpack:///./src/data/SpaceVisit.js","webpack:///./src/data/Link.js","webpack:///./src/data/App.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_Spaces","_User","_User2","_Media","_Media2","_Space","_Space2","_SpaceVisit","_SpaceVisit2","_Link","_Link2","_App","_App2","_Types","Memex","sharedClient","Spaces","entityStates","environmentTypes","mediaTypes","spaceTypes","mediaDataStates","appPlatforms","Media","Space","SpaceVisit","Link","App","User","_classCallCheck","instance","Constructor","TypeError","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Auth","methods","GET","POST","_configuration","appToken","environment","production","url","_setEnvironment","console","error","token","_auth","Auth","_APIURL","stage","local","email","password","_isConfigured","loginWithCredentials","onboardingToken","loginWithOnboardingToken","retryToken","activationToken","loginWithTFARetryToken","all","logout","media","completion","body","toJSON","_perform","json","success","fromJSON","mediaMUID","tag","autodump","space","caption","color","spaceType","collection","representations","createSpace","spaceProcessingModes","sync","imageURL","dataDownloadURL","dataState","dataValid","mediaType","source","image","setEmbedDataFromString","reference","webPage","text","process","headers","X-Processing-Mode","X-Autodump-Mode","spaceMUID","visits","spaces","map","visit","muids","space_MUIDs","link","path","query","include_target","links","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","item","push","err","app","newApp","appID","apps","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","user","newUser","userID","oldPassword","newPassword","old_password","new_password","resetToken","type","verificationToken","activation_token","method","userToken","options","JSON","stringify","credentials","host","resultQuery","keys","queryString","reduce","array","encodeURIComponent","join","fetch","then","response","status","self","normalizeName","name","String","test","toLowerCase","normalizeValue","iteratorFor","items","shift","support","iterable","Headers","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","bufferClone","slice","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","toString","arrayBuffer","isDataView","_bodyArrayBuffer","ArrayBuffer","isArrayBufferView","Error","get","rejected","decode","parse","normalizeMethod","upcased","toUpperCase","indexOf","Request","input","mode","referrer","form","trim","split","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","line","parts","Response","bodyInit","ok","statusText","e","viewClasses","DataView","isView","oldValue","has","hasOwnProperty","callback","thisArg","values","entries","clone","redirectStatuses","redirect","RangeError","location","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","_host","data","identity","secret","login","onboarding_token","retry_token","Content-Type","X-App-Token","_base","_base2","_utf","_utf2","preview","summary","waitingForNewUploadURL","readyForDataUpload","state","visible","base64","binaryString","window","atob","charCodeAt","embededData","index","binary","len","btoa","encoded","base64EmbedData","MUID","muid","created_at","createdAt","Date","updated_at","updatedAt","ownerID","owner_id","metadata","data_state","embeded_data","setEmbedDataFromBase64","data_download_url","dataUploadURL","data_upload_url","representedSpaceMUID","represented_space_muid","toISOString","deleted","__WEBPACK_AMD_DEFINE_RESULT__","global","freeExports","freeGlobal","InvalidCharacterError","message","TABLE","REGEX_SPACE_CHARACTERS","bitStorage","bitCounter","output","position","charAt","encode","a","b","padding","version","webpackPolyfill","deprecate","paths","children","ucs2decode","string","extra","counter","ucs2encode","stringFromCharCode","checkScalarValue","codePoint","createByte","encodeCodePoint","symbol","utf8encode","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","utf8decode","tmp","utf8","ID","fullname","avatar","originSpaceMUID","origin_space_muid","hasPassword","has_password","advanced","avatar_muid","origin","no","async","unread","visited_at","visitedAt","type_identifier","order","target_space_muid","target_space","appStates","new","requested","approved","blocked","rest","swift","javaScript","golang","description","webpage","platform"],"mappings":"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","file":"memex-js-sdk.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"memex-js-sdk\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"memex-js-sdk\"] = factory();\n\telse\n\t\troot[\"memex-js-sdk\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"memex-js-sdk\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"memex-js-sdk\"] = factory();\n\telse\n\t\troot[\"memex-js-sdk\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Spaces = __webpack_require__(1);\n\t\n\tvar _User = __webpack_require__(9);\n\t\n\tvar _User2 = _interopRequireDefault(_User);\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tvar _Space = __webpack_require__(10);\n\t\n\tvar _Space2 = _interopRequireDefault(_Space);\n\t\n\tvar _SpaceVisit = __webpack_require__(11);\n\t\n\tvar _SpaceVisit2 = _interopRequireDefault(_SpaceVisit);\n\t\n\tvar _Link = __webpack_require__(12);\n\t\n\tvar _Link2 = _interopRequireDefault(_Link);\n\t\n\tvar _App = __webpack_require__(13);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Memex = {\n\t  /** Shared instance of Spaces */\n\t  sharedClient: new _Spaces.Spaces(),\n\t  entityStates: _Types.entityStates,\n\t  environmentTypes: _Types.environmentTypes,\n\t  mediaTypes: _Media.mediaTypes,\n\t  spaceTypes: _Space.spaceTypes,\n\t  mediaDataStates: _Media.mediaDataStates,\n\t  appPlatforms: _App.appPlatforms,\n\t  Media: _Media2.default,\n\t  Space: _Space2.default,\n\t  SpaceVisit: _SpaceVisit2.default,\n\t  Link: _Link2.default,\n\t  App: _App2.default,\n\t  User: _User2.default\n\t};\n\t\n\texports.default = Memex;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Spaces = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(2);\n\t\n\tvar _Auth = __webpack_require__(3);\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tvar _User = __webpack_require__(9);\n\t\n\tvar _User2 = _interopRequireDefault(_User);\n\t\n\tvar _Space = __webpack_require__(10);\n\t\n\tvar _Space2 = _interopRequireDefault(_Space);\n\t\n\tvar _SpaceVisit = __webpack_require__(11);\n\t\n\tvar _SpaceVisit2 = _interopRequireDefault(_SpaceVisit);\n\t\n\tvar _Link = __webpack_require__(12);\n\t\n\tvar _Link2 = _interopRequireDefault(_Link);\n\t\n\tvar _App = __webpack_require__(13);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar methods = {\n\t  GET: 'GET',\n\t  POST: 'POST'\n\t};\n\t\n\tvar Spaces = exports.Spaces = function () {\n\t  function Spaces() {\n\t    _classCallCheck(this, Spaces);\n\t\n\t    this._configuration = {\n\t      appToken: \"\",\n\t      environment: _Types.environmentTypes.production,\n\t      url: null\n\t    };\n\t    this._setEnvironment(_Types.environmentTypes.production, null);\n\t  }\n\t\n\t  _createClass(Spaces, [{\n\t    key: '_isConfigured',\n\t    value: function _isConfigured() {\n\t      if (this._configuration.appToken === \"\") {\n\t        console.error(\"Missing Memex configuration, call Memex.client.setAppToken('<Your app token>')\");\n\t        return false;\n\t      }\n\t      return true;\n\t    }\n\t\n\t    /**\n\t     * Sets app API token\n\t     *\n\t     * @param string token: App's unique API token\n\t     */\n\t\n\t  }, {\n\t    key: 'setAppToken',\n\t    value: function setAppToken(token) {\n\t      this._configuration.appToken = token;\n\t      this._auth.appToken = token;\n\t    }\n\t  }, {\n\t    key: '_setEnvironment',\n\t    value: function _setEnvironment(environment, url) {\n\t      this._configuration.environment = environment;\n\t      this._configuration.url = url;\n\t      this._auth = new _Auth.Auth(this._APIURL(environment, url));\n\t      this._auth.appToken = this._configuration.appToken;\n\t    }\n\t  }, {\n\t    key: '_APIURL',\n\t    value: function _APIURL(environment, url) {\n\t      if (url != null) {\n\t        return url;\n\t      }\n\t      switch (environment) {\n\t        case _Types.environmentTypes.production:\n\t          return 'https://mmx-spaces-api-prod.herokuapp.com';\n\t        case _Types.environmentTypes.stage:\n\t          return 'https://mmx-spaces-api-stage.herokuapp.com';\n\t        case _Types.environmentTypes.local:\n\t          return 'http://localhost:8081';\n\t        default:\n\t          console.error('Unknown environment');\n\t          return '';\n\t      }\n\t    }\n\t\n\t    /**\n\t     * Login user using standard email/password credentials\n\t     *\n\t     * @param string email: Users unique email\n\t     * @param string password: Users secret password\n\t     */\n\t\n\t  }, {\n\t    key: 'loginWithCredentials',\n\t    value: function loginWithCredentials(email, password) {\n\t      if (!this._isConfigured()) {\n\t        return null;\n\t      }\n\t      return this._auth.loginWithCredentials(email, password);\n\t    }\n\t\n\t    /**\n\t     * Login user using onboarding token\n\t     *\n\t     * @param string onboardingToken: Onboarding token\n\t     */\n\t\n\t  }, {\n\t    key: 'loginWithOnboardingToken',\n\t    value: function loginWithOnboardingToken(onboardingToken) {\n\t      if (!this._isConfigured()) {\n\t        return null;\n\t      }\n\t      return this._auth.loginWithOnboardingToken(onboardingToken);\n\t    }\n\t\n\t    /**\n\t     * Login user using two factor authorization retry token\n\t     *\n\t     * @param string retryToken: TFA retry token\n\t     * @param string activationToken: TFA activation code\n\t     */\n\t\n\t  }, {\n\t    key: 'loginWithRetryToken',\n\t    value: function loginWithRetryToken(retryToken, activationToken) {\n\t      if (!this._isConfigured()) {\n\t        return null;\n\t      }\n\t      return this._auth.loginWithTFARetryToken(retryToken, activationToken);\n\t    }\n\t\n\t    /**\n\t     * Logout user. Removes user token from local storage.\n\t     */\n\t\n\t  }, {\n\t    key: 'logout',\n\t    value: function logout(all) {\n\t      if (!this._isConfigured()) {\n\t        return null;\n\t      }\n\t      return this._auth.logout(all);\n\t    }\n\t\n\t    //////////////////////////////////////////////////////////////////////\n\t    // Media Handler\n\t    //////////////////////////////////////////////////////////////////////\n\t\n\t    /**\n\t     * New media creation. If there is some data that needs to be uploaded put it to dataUploadURL and call markMediaAsUploaded.\n\t     *\n\t     * @param Media media: New media\n\t     * @param Object completion: Completion handler that will get created media and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createMedia',\n\t    value: function createMedia(media, completion) {\n\t      var body = media.toJSON();\n\t      this._perform(methods.POST, 'teams/personal/media', null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var media = new _Media2.default();\n\t        media.fromJSON(json);\n\t        completion(media, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Returns media object. It can be used when dataDownloadURL is expired and new is needed.\n\t     *\n\t     * @param string mediaMUID: Requested media MUID\n\t     * @param Object completion: Completion handler that will get media and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'getMedia',\n\t    value: function getMedia(mediaMUID, completion) {\n\t      this._perform(methods.GET, 'teams/personal/media/' + mediaMUID, null, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var media = new _Media2.default();\n\t        media.fromJSON(json);\n\t        completion(media, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Marks media data as uploaded. It means that data was uploaded to dataUploadURL and dataState now can change to valid state.\n\t     *\n\t     * @param string mediaMUID: Requested media MUID\n\t     * @param Object completion: Completion handler\n\t     */\n\t\n\t  }, {\n\t    key: 'markMediaAsUploaded',\n\t    value: function markMediaAsUploaded(mediaMUID, completion) {\n\t      this._perform(methods.POST, 'teams/personal/media/' + mediaMUID + '/mark-as-uploaded', null, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    //////////////////////////////////////////////////////////////////////\n\t    // Spaces Handler\n\t    //////////////////////////////////////////////////////////////////////\n\t\n\t    /**\n\t     * Creates collection space\n\t     *\n\t     * @param string tag: Caption of new space\n\t     * @param bool autodump: True if new space should be autodumped\n\t     * @param Object completion: Completion handler that will get created space and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createCollectionSpace',\n\t    value: function createCollectionSpace(tag, autodump, completion) {\n\t      var space = new _Space2.default();\n\t      space.caption = tag;\n\t      space.color = null;\n\t      space.spaceType = _Space.spaceTypes.collection;\n\t      space.representations = [];\n\t      this.createSpace(space, _Space.spaceProcessingModes.sync, autodump, completion);\n\t    }\n\t\n\t    /**\n\t     * Creates image space from URL\n\t     *\n\t     * @param string url: Source URL of image\n\t     * @param bool autodump: True if new space should be autodumped\n\t     * @param Object completion: Completion handler that will get created space and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createImageSpace',\n\t    value: function createImageSpace(imageURL, autodump, completion) {\n\t      var media = new _Media2.default();\n\t      media.dataDownloadURL = imageURL;\n\t      media.dataState = _Media.mediaDataStates.dataValid;\n\t      media.mediaType = _Media.mediaTypes.source;\n\t\n\t      var space = new _Space2.default();\n\t      space.spaceType = _Space.spaceTypes.image;\n\t      space.representations = [media];\n\t\n\t      this.createSpace(space, _Space.spaceProcessingModes.sync, autodump, completion);\n\t    }\n\t\n\t    /**\n\t     * Creates webpage space from URL\n\t     *\n\t     * @param string url: URL of webpage\n\t     * @param bool autodump: True if new space should be autodumped\n\t     * @param Object completion: Completion handler that will get created space and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createWebPageSpace',\n\t    value: function createWebPageSpace(url, autodump, completion) {\n\t      var media = new _Media2.default();\n\t      media.setEmbedDataFromString(url);\n\t      media.dataState = _Media.mediaDataStates.dataValid;\n\t      media.mediaType = _Media.mediaTypes.reference;\n\t\n\t      var space = new _Space2.default();\n\t      space.spaceType = _Space.spaceTypes.webPage;\n\t      space.representations = [media];\n\t\n\t      this.createSpace(space, _Space.spaceProcessingModes.sync, autodump, completion);\n\t    }\n\t\n\t    /**\n\t     * Creates text space\n\t     *\n\t     * @param string text: Content text\n\t     * @param bool autodump: True if new space should be autodumped\n\t     * @param Object completion: Completion handler that will get created space and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createTextSpace',\n\t    value: function createTextSpace(text, autodump, completion) {\n\t      var media = new _Media2.default();\n\t      media.setEmbedDataFromString(text);\n\t      media.dataState = _Media.mediaDataStates.dataValid;\n\t      media.mediaType = _Media.mediaTypes.source;\n\t\n\t      var space = new _Space2.default();\n\t      space.spaceType = _Space.spaceTypes.text;\n\t      space.representations = [media];\n\t\n\t      this.createSpace(space, _Space.spaceProcessingModes.sync, autodump, completion);\n\t    }\n\t\n\t    /**\n\t     * Creates space\n\t     *\n\t     * @param Space space: New space\n\t     * @param SpaceProcessingMode process: Defines processing mode\n\t     * @param bool autodump: True if new space should be autodumped\n\t     * @param Object completion: Completion handler that will get created space and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createSpace',\n\t    value: function createSpace(space, process, autodump, completion) {\n\t      var headers = {\n\t        'X-Processing-Mode': process,\n\t        'X-Autodump-Mode': autodump\n\t      };\n\t      this._perform(methods.POST, 'teams/personal/spaces', null, headers, [space.toJSON()], function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var space = new _Space2.default();\n\t        space.fromJSON(json[0]);\n\t        completion(space, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Get space\n\t     *\n\t     * @param string spaceMUID: Requested space MUID (or you can use keyword 'origin' for fetching users's origin space)\n\t     * @param Object completion: Completion handler that will get space and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'getSpace',\n\t    value: function getSpace(spaceMUID, completion) {\n\t      this._perform(methods.GET, 'teams/personal/spaces/' + spaceMUID, null, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var space = new _Space2.default();\n\t        space.fromJSON(json);\n\t        completion(space, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Log space visits\n\t     *\n\t     * @param string visits: Array of space visits. Can contain multiple spaces with same MUID.\n\t     * @param Object completion: Completion handler\n\t     */\n\t\n\t  }, {\n\t    key: 'logSpaceVisits',\n\t    value: function logSpaceVisits(visits, completion) {\n\t      var body = {\n\t        spaces: visits.map(function (visit) {\n\t          return visit.toJSON();\n\t        })\n\t      };\n\t      this._perform(methods.POST, 'teams/personal/spaces/log-visits', null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Returns abstraction (caption) for set of spaces\n\t     *\n\t     * @param string muids: Set of space MUIDs for that will be caption generated\n\t     * @param Object completion: Completion handler\n\t     */\n\t\n\t  }, {\n\t    key: 'getSpacesAbstract',\n\t    value: function getSpacesAbstract(muids, completion) {\n\t      var body = {\n\t        space_MUIDs: muids\n\t      };\n\t      this._perform(methods.POST, 'teams/personal/spaces/abstract', null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        completion(json.caption, true);\n\t      });\n\t    }\n\t\n\t    //////////////////////////////////////////////////////////////////////\n\t    // Links Handler\n\t    //////////////////////////////////////////////////////////////////////\n\t\n\t    /**\n\t     * NNew link creation.\n\t     *\n\t     * @param Link link: New link\n\t     * @param Object completion: Completion handler that will get created media and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createMedia',\n\t    value: function createMedia(link, completion) {\n\t      var body = {\n\t        link: link.toJSON()\n\t      };\n\t      this._perform(methods.POST, 'teams/personal/links', null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var link = new _Link2.default();\n\t        link.fromJSON(json);\n\t        completion(link, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Get space links\n\t     *\n\t     * @param string spaceMUID: Requested space MUID (or you can use keyword 'origin' for fetching users's origin space)\n\t     * @param Object completion: Completion handler that will get array of links and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'getSpaceLinks',\n\t    value: function getSpaceLinks(spaceMUID, completion) {\n\t      var path = 'teams/personal/spaces/' + spaceMUID + '/links';\n\t      var query = {\n\t        include_target: true\n\t      };\n\t      this._perform(methods.GET, path, query, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var links = [];\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t          for (var _iterator = json[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var item = _step.value;\n\t\n\t            var link = new _Link2.default();\n\t            link.fromJSON(item);\n\t            links.push(link);\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError = true;\n\t          _iteratorError = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t              _iterator.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError) {\n\t              throw _iteratorError;\n\t            }\n\t          }\n\t        }\n\t\n\t        completion(links, true);\n\t      });\n\t    }\n\t\n\t    //////////////////////////////////////////////////////////////////////\n\t    // App Handler\n\t    //////////////////////////////////////////////////////////////////////\n\t\n\t    /**\n\t     * New app creation\n\t     *\n\t     * @param App app: New app object\n\t     * @param Object completion: Completion handler that will get created app and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createApp',\n\t    value: function createApp(app, completion) {\n\t      var body = {\n\t        app: app.toJSON()\n\t      };\n\t      this._perform(methods.POST, 'apps', null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Get app detail\n\t     *\n\t     * @param number id: Fetched App ID\n\t     * @param Object completion: Completion handler that will get app and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'getApp',\n\t    value: function getApp(id, completion) {\n\t      this._perform(methods.GET, 'apps/' + id, null, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Update app\n\t     *\n\t     * @param App app: Updated app object\n\t     * @param Object completion: Completion handler that will get updated app and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'updateApp',\n\t    value: function updateApp(app, completion) {\n\t      if (app.id === null) {\n\t        console.error(\"Missing app id\");\n\t        completion(null, false);\n\t        return;\n\t      }\n\t      var body = {\n\t        app: app.toJSON()\n\t      };\n\t      this._perform(methods.POST, 'apps/' + app.id, null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Renew app token. Will generate new app token (all clients that uses old one will stop working!!)\n\t     *\n\t     * @param number appID: App ID\n\t     * @param Object completion: Completion handler that will get updated app and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'renewAppToken',\n\t    value: function renewAppToken(appID, completion) {\n\t      this._perform(methods.POST, 'apps/' + appID + \"/renew-token\", null, null, {}, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Get all users apps\n\t     *\n\t     * @param Object completion: Completion handler that will get array of all users apps and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'getApps',\n\t    value: function getApps(completion) {\n\t      var path = 'apps';\n\t      this._perform(methods.GET, path, {}, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var apps = [];\n\t        var _iteratorNormalCompletion2 = true;\n\t        var _didIteratorError2 = false;\n\t        var _iteratorError2 = undefined;\n\t\n\t        try {\n\t          for (var _iterator2 = json[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t            var item = _step2.value;\n\t\n\t            var _app = new _App2.default();\n\t            _app.fromJSON(item);\n\t            apps.push(_app);\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError2 = true;\n\t          _iteratorError2 = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t              _iterator2.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError2) {\n\t              throw _iteratorError2;\n\t            }\n\t          }\n\t        }\n\t\n\t        completion(apps, true);\n\t      });\n\t    }\n\t\n\t    //////////////////////////////////////////////////////////////////////\n\t    // User Handler\n\t    //////////////////////////////////////////////////////////////////////\n\t\n\t    /**\n\t     * Creates new user. User object must contains password and valid email.\n\t     *\n\t     * @param User user: New user object\n\t     * @param string onboardingToken: Onboarding token (optional)\n\t     * @param Object completion: Completion handler that will return new user object and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'createUser',\n\t    value: function createUser(user, onboardingToken, completion) {\n\t      var body = {\n\t        user: user.toJSON(),\n\t        onboardingToken: onboardingToken\n\t      };\n\t      this._perform(methods.POST, 'users', null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newUser = new _User2.default();\n\t        newUser.fromJSON(json);\n\t        completion(newUser, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Fetch user detail.\n\t     *\n\t     * @param number userID: Optional user ID. If null then you will get authenticated user detail.\n\t     * @param Object completion: Completion handler that will return requested user object and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'getUser',\n\t    value: function getUser(userID, completion) {\n\t      this._perform(methods.GET, 'users/' + (userID == null ? 'self' : userID), null, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newUser = new _User2.default();\n\t        newUser.fromJSON(json);\n\t        completion(newUser, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Update user. For password updates use setUserPassword function.\n\t     *\n\t     * @param User user: Updated user object\n\t     * @param Object completion: Completion handler that will return update user object and success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'updateUser',\n\t    value: function updateUser(user, completion) {\n\t      var body = {\n\t        user: user.toJSON()\n\t      };\n\t      this._perform(methods.POST, 'users/self', null, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newUser = new _User2.default();\n\t        newUser.fromJSON(json);\n\t        completion(newUser, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Sets user password.\n\t     *\n\t     * @param string oldPassword: Old user's password (if any exists - user was not authenticated by onboarding token)\n\t     * @param string newPassword: New password\n\t     * @param Object completion: Completion handler that will return only success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'setUserPassword',\n\t    value: function setUserPassword(oldPassword, newPassword, completion) {\n\t      var body = {\n\t        old_password: oldPassword,\n\t        new_password: newPassword\n\t      };\n\t      this._perform(methods.POST, 'users/self/change-password', null, null, body, function (json, success) {\n\t        if (success === false) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Request password reset.\n\t     *\n\t     * @param string email: Email for request account\n\t     * @param Object completion: Completion handler that will return only success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'requestPasswordReset',\n\t    value: function requestPasswordReset(email, completion) {\n\t      var body = {\n\t        email: email\n\t      };\n\t      this._perform(methods.POST, 'users/self/request-password-reset', null, null, body, function (json, success) {\n\t        if (success === false) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Reset password.\n\t     *\n\t     * @param string resetToken: Password reset token that was recevied by email\n\t     * @param string newPassword: New password\n\t     * @param Object completion: Completion handler that will return only success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'resetPassword',\n\t    value: function resetPassword(resetToken, newPassword, completion) {\n\t      var body = {\n\t        token: resetToken,\n\t        new_password: newPassword\n\t      };\n\t      this._perform(methods.POST, 'users/self/reset-password', null, null, body, function (json, success) {\n\t        if (success === false) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Request contact verification.\n\t     *\n\t     * @param string type: Contact type\n\t     * @param string newPassword: New password\n\t     * @param Object completion: Completion handler that will return only success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'requestContactVerification',\n\t    value: function requestContactVerification(type, completion) {\n\t      var body = {\n\t        type: type\n\t      };\n\t      this._perform(methods.POST, 'users/self/contacts/request-verification', null, null, body, function (json, success) {\n\t        if (success === false) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Verify user contact.\n\t     *\n\t     * @param string type: Contact type\n\t     * @param string verificationToken: Verification token\n\t     * @param Object completion: Completion handler that will return only success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'verifyContact',\n\t    value: function verifyContact(type, verificationToken, completion) {\n\t      var body = {\n\t        type: type,\n\t        token: verificationToken\n\t      };\n\t      this._perform(methods.POST, 'users/self/contacts/verify', null, null, body, function (json, success) {\n\t        if (success === false) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Activate TFA session.\n\t     *\n\t     * @param string activationToken: TFA activation token\n\t     * @param Object completion: Completion handler that will return only success flag\n\t     */\n\t\n\t  }, {\n\t    key: 'activateTFASession',\n\t    value: function activateTFASession(activationToken, completion) {\n\t      var body = {\n\t        activation_token: activationToken\n\t      };\n\t      this._perform(methods.POST, 'sessions/mfa-activate', null, null, body, function (json, success) {\n\t        if (success === false) {\n\t          completion(false);\n\t          return;\n\t        }\n\t        completion(true);\n\t      });\n\t    }\n\t\n\t    //////////////////////////////////////////////////////////////////////\n\t    // Shared\n\t    //////////////////////////////////////////////////////////////////////\n\t\n\t  }, {\n\t    key: '_perform',\n\t    value: function _perform(method, path, query, headers, body, completion) {\n\t      if (!this._isConfigured()) {\n\t        return;\n\t      }\n\t      if (headers == null) {\n\t        headers = {};\n\t      }\n\t      headers['Content-Type'] = 'application/json';\n\t      headers['X-App-Token'] = this._configuration.appToken;\n\t      if (this._auth.userToken != null) {\n\t        headers['X-User-Token'] = this._auth.userToken;\n\t      }\n\t      var options = {\n\t        method: method,\n\t        body: body != null ? JSON.stringify(body) : null,\n\t        headers: headers,\n\t        credentials: 'include'\n\t      };\n\t\n\t      var host = this._APIURL(this._configuration.environment, this._configuration.url);\n\t      var url = host + '/' + path;\n\t      var resultQuery = query;\n\t      if (resultQuery != null) {\n\t        var keys = Object.keys(resultQuery);\n\t        var queryString = keys.reduce(function (array, key) {\n\t          if (resultQuery == null) {\n\t            return array;\n\t          }\n\t          var value = resultQuery[key];\n\t          array.push(key + '=' + encodeURIComponent(value));\n\t          return array;\n\t        }, []).join('&');\n\t        url += '?' + queryString;\n\t      }\n\t      fetch(url, options).then(function (response) {\n\t        if (response.status < 200 || response.status >= 300) {\n\t          throw response;\n\t        } else {\n\t          return response;\n\t        }\n\t      }).then(function (response) {\n\t        if (response.status == 204) {\n\t          completion(null, true);\n\t          return null;\n\t        }\n\t        return response.json();\n\t      }).then(function (response) {\n\t        completion(response, true);\n\t      }, function (error) {\n\t        completion(null, false);\n\t      });\n\t    }\n\t  }]);\n\n\t  return Spaces;\n\t}();\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t(function(self) {\n\t  'use strict';\n\t\n\t  if (self.fetch) {\n\t    return\n\t  }\n\t\n\t  var support = {\n\t    searchParams: 'URLSearchParams' in self,\n\t    iterable: 'Symbol' in self && 'iterator' in Symbol,\n\t    blob: 'FileReader' in self && 'Blob' in self && (function() {\n\t      try {\n\t        new Blob()\n\t        return true\n\t      } catch(e) {\n\t        return false\n\t      }\n\t    })(),\n\t    formData: 'FormData' in self,\n\t    arrayBuffer: 'ArrayBuffer' in self\n\t  }\n\t\n\t  if (support.arrayBuffer) {\n\t    var viewClasses = [\n\t      '[object Int8Array]',\n\t      '[object Uint8Array]',\n\t      '[object Uint8ClampedArray]',\n\t      '[object Int16Array]',\n\t      '[object Uint16Array]',\n\t      '[object Int32Array]',\n\t      '[object Uint32Array]',\n\t      '[object Float32Array]',\n\t      '[object Float64Array]'\n\t    ]\n\t\n\t    var isDataView = function(obj) {\n\t      return obj && DataView.prototype.isPrototypeOf(obj)\n\t    }\n\t\n\t    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n\t      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n\t    }\n\t  }\n\t\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = String(name)\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t  }\n\t\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = String(value)\n\t    }\n\t    return value\n\t  }\n\t\n\t  // Build a destructive iterator for the value list\n\t  function iteratorFor(items) {\n\t    var iterator = {\n\t      next: function() {\n\t        var value = items.shift()\n\t        return {done: value === undefined, value: value}\n\t      }\n\t    }\n\t\n\t    if (support.iterable) {\n\t      iterator[Symbol.iterator] = function() {\n\t        return iterator\n\t      }\n\t    }\n\t\n\t    return iterator\n\t  }\n\t\n\t  function Headers(headers) {\n\t    this.map = {}\n\t\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function(value, name) {\n\t        this.append(name, value)\n\t      }, this)\n\t    } else if (Array.isArray(headers)) {\n\t      headers.forEach(function(header) {\n\t        this.append(header[0], header[1])\n\t      }, this)\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function(name) {\n\t        this.append(name, headers[name])\n\t      }, this)\n\t    }\n\t  }\n\t\n\t  Headers.prototype.append = function(name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var oldValue = this.map[name]\n\t    this.map[name] = oldValue ? oldValue+','+value : value\n\t  }\n\t\n\t  Headers.prototype['delete'] = function(name) {\n\t    delete this.map[normalizeName(name)]\n\t  }\n\t\n\t  Headers.prototype.get = function(name) {\n\t    name = normalizeName(name)\n\t    return this.has(name) ? this.map[name] : null\n\t  }\n\t\n\t  Headers.prototype.has = function(name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t  }\n\t\n\t  Headers.prototype.set = function(name, value) {\n\t    this.map[normalizeName(name)] = normalizeValue(value)\n\t  }\n\t\n\t  Headers.prototype.forEach = function(callback, thisArg) {\n\t    for (var name in this.map) {\n\t      if (this.map.hasOwnProperty(name)) {\n\t        callback.call(thisArg, this.map[name], name, this)\n\t      }\n\t    }\n\t  }\n\t\n\t  Headers.prototype.keys = function() {\n\t    var items = []\n\t    this.forEach(function(value, name) { items.push(name) })\n\t    return iteratorFor(items)\n\t  }\n\t\n\t  Headers.prototype.values = function() {\n\t    var items = []\n\t    this.forEach(function(value) { items.push(value) })\n\t    return iteratorFor(items)\n\t  }\n\t\n\t  Headers.prototype.entries = function() {\n\t    var items = []\n\t    this.forEach(function(value, name) { items.push([name, value]) })\n\t    return iteratorFor(items)\n\t  }\n\t\n\t  if (support.iterable) {\n\t    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n\t  }\n\t\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'))\n\t    }\n\t    body.bodyUsed = true\n\t  }\n\t\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function(resolve, reject) {\n\t      reader.onload = function() {\n\t        resolve(reader.result)\n\t      }\n\t      reader.onerror = function() {\n\t        reject(reader.error)\n\t      }\n\t    })\n\t  }\n\t\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    var promise = fileReaderReady(reader)\n\t    reader.readAsArrayBuffer(blob)\n\t    return promise\n\t  }\n\t\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader()\n\t    var promise = fileReaderReady(reader)\n\t    reader.readAsText(blob)\n\t    return promise\n\t  }\n\t\n\t  function readArrayBufferAsText(buf) {\n\t    var view = new Uint8Array(buf)\n\t    var chars = new Array(view.length)\n\t\n\t    for (var i = 0; i < view.length; i++) {\n\t      chars[i] = String.fromCharCode(view[i])\n\t    }\n\t    return chars.join('')\n\t  }\n\t\n\t  function bufferClone(buf) {\n\t    if (buf.slice) {\n\t      return buf.slice(0)\n\t    } else {\n\t      var view = new Uint8Array(buf.byteLength)\n\t      view.set(new Uint8Array(buf))\n\t      return view.buffer\n\t    }\n\t  }\n\t\n\t  function Body() {\n\t    this.bodyUsed = false\n\t\n\t    this._initBody = function(body) {\n\t      this._bodyInit = body\n\t      if (!body) {\n\t        this._bodyText = ''\n\t      } else if (typeof body === 'string') {\n\t        this._bodyText = body\n\t      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t        this._bodyBlob = body\n\t      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t        this._bodyFormData = body\n\t      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n\t        this._bodyText = body.toString()\n\t      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n\t        this._bodyArrayBuffer = bufferClone(body.buffer)\n\t        // IE 10-11 can't handle a DataView body.\n\t        this._bodyInit = new Blob([this._bodyArrayBuffer])\n\t      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n\t        this._bodyArrayBuffer = bufferClone(body)\n\t      } else {\n\t        throw new Error('unsupported BodyInit type')\n\t      }\n\t\n\t      if (!this.headers.get('content-type')) {\n\t        if (typeof body === 'string') {\n\t          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n\t        } else if (this._bodyBlob && this._bodyBlob.type) {\n\t          this.headers.set('content-type', this._bodyBlob.type)\n\t        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n\t          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n\t        }\n\t      }\n\t    }\n\t\n\t    if (support.blob) {\n\t      this.blob = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob)\n\t        } else if (this._bodyArrayBuffer) {\n\t          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob')\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]))\n\t        }\n\t      }\n\t\n\t      this.arrayBuffer = function() {\n\t        if (this._bodyArrayBuffer) {\n\t          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n\t        } else {\n\t          return this.blob().then(readBlobAsArrayBuffer)\n\t        }\n\t      }\n\t    }\n\t\n\t    this.text = function() {\n\t      var rejected = consumed(this)\n\t      if (rejected) {\n\t        return rejected\n\t      }\n\t\n\t      if (this._bodyBlob) {\n\t        return readBlobAsText(this._bodyBlob)\n\t      } else if (this._bodyArrayBuffer) {\n\t        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n\t      } else if (this._bodyFormData) {\n\t        throw new Error('could not read FormData body as text')\n\t      } else {\n\t        return Promise.resolve(this._bodyText)\n\t      }\n\t    }\n\t\n\t    if (support.formData) {\n\t      this.formData = function() {\n\t        return this.text().then(decode)\n\t      }\n\t    }\n\t\n\t    this.json = function() {\n\t      return this.text().then(JSON.parse)\n\t    }\n\t\n\t    return this\n\t  }\n\t\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\t\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase()\n\t    return (methods.indexOf(upcased) > -1) ? upcased : method\n\t  }\n\t\n\t  function Request(input, options) {\n\t    options = options || {}\n\t    var body = options.body\n\t\n\t    if (input instanceof Request) {\n\t      if (input.bodyUsed) {\n\t        throw new TypeError('Already read')\n\t      }\n\t      this.url = input.url\n\t      this.credentials = input.credentials\n\t      if (!options.headers) {\n\t        this.headers = new Headers(input.headers)\n\t      }\n\t      this.method = input.method\n\t      this.mode = input.mode\n\t      if (!body && input._bodyInit != null) {\n\t        body = input._bodyInit\n\t        input.bodyUsed = true\n\t      }\n\t    } else {\n\t      this.url = String(input)\n\t    }\n\t\n\t    this.credentials = options.credentials || this.credentials || 'omit'\n\t    if (options.headers || !this.headers) {\n\t      this.headers = new Headers(options.headers)\n\t    }\n\t    this.method = normalizeMethod(options.method || this.method || 'GET')\n\t    this.mode = options.mode || this.mode || null\n\t    this.referrer = null\n\t\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(body)\n\t  }\n\t\n\t  Request.prototype.clone = function() {\n\t    return new Request(this, { body: this._bodyInit })\n\t  }\n\t\n\t  function decode(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function(bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=')\n\t        var name = split.shift().replace(/\\+/g, ' ')\n\t        var value = split.join('=').replace(/\\+/g, ' ')\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t      }\n\t    })\n\t    return form\n\t  }\n\t\n\t  function parseHeaders(rawHeaders) {\n\t    var headers = new Headers()\n\t    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n\t      var parts = line.split(':')\n\t      var key = parts.shift().trim()\n\t      if (key) {\n\t        var value = parts.join(':').trim()\n\t        headers.append(key, value)\n\t      }\n\t    })\n\t    return headers\n\t  }\n\t\n\t  Body.call(Request.prototype)\n\t\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {}\n\t    }\n\t\n\t    this.type = 'default'\n\t    this.status = 'status' in options ? options.status : 200\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n\t    this.headers = new Headers(options.headers)\n\t    this.url = options.url || ''\n\t    this._initBody(bodyInit)\n\t  }\n\t\n\t  Body.call(Response.prototype)\n\t\n\t  Response.prototype.clone = function() {\n\t    return new Response(this._bodyInit, {\n\t      status: this.status,\n\t      statusText: this.statusText,\n\t      headers: new Headers(this.headers),\n\t      url: this.url\n\t    })\n\t  }\n\t\n\t  Response.error = function() {\n\t    var response = new Response(null, {status: 0, statusText: ''})\n\t    response.type = 'error'\n\t    return response\n\t  }\n\t\n\t  var redirectStatuses = [301, 302, 303, 307, 308]\n\t\n\t  Response.redirect = function(url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t      throw new RangeError('Invalid status code')\n\t    }\n\t\n\t    return new Response(null, {status: status, headers: {location: url}})\n\t  }\n\t\n\t  self.Headers = Headers\n\t  self.Request = Request\n\t  self.Response = Response\n\t\n\t  self.fetch = function(input, init) {\n\t    return new Promise(function(resolve, reject) {\n\t      var request = new Request(input, init)\n\t      var xhr = new XMLHttpRequest()\n\t\n\t      xhr.onload = function() {\n\t        var options = {\n\t          status: xhr.status,\n\t          statusText: xhr.statusText,\n\t          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n\t        }\n\t        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText\n\t        resolve(new Response(body, options))\n\t      }\n\t\n\t      xhr.onerror = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.ontimeout = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.open(request.method, request.url, true)\n\t\n\t      if (request.credentials === 'include') {\n\t        xhr.withCredentials = true\n\t      }\n\t\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob'\n\t      }\n\t\n\t      request.headers.forEach(function(value, name) {\n\t        xhr.setRequestHeader(name, value)\n\t      })\n\t\n\t      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n\t    })\n\t  }\n\t  self.fetch.polyfill = true\n\t})(typeof self !== 'undefined' ? self : this);\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Auth = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Auth = exports.Auth = function () {\n\t  function Auth(host) {\n\t    _classCallCheck(this, Auth);\n\t\n\t    this._host = host;\n\t  }\n\t\n\t  _createClass(Auth, [{\n\t    key: 'loginWithCredentials',\n\t    value: function loginWithCredentials(email, password) {\n\t      var data = {\n\t        identity: {\n\t          email: email\n\t        },\n\t        secret: {\n\t          password: password\n\t        }\n\t      };\n\t      return this.login(data);\n\t    }\n\t  }, {\n\t    key: 'loginWithOnboardingToken',\n\t    value: function loginWithOnboardingToken(onboardingToken) {\n\t      var data = {\n\t        secret: {\n\t          onboarding_token: onboardingToken\n\t        }\n\t      };\n\t      return this.login(data);\n\t    }\n\t  }, {\n\t    key: 'loginWithTFARetryToken',\n\t    value: function loginWithTFARetryToken(retryToken, activationToken) {\n\t      var data = {\n\t        identity: {\n\t          retry_token: retryToken\n\t        },\n\t        secret: {\n\t          activation_token: activationToken\n\t        }\n\t      };\n\t      return this.login(data);\n\t    }\n\t  }, {\n\t    key: 'login',\n\t    value: function login(data) {\n\t      var options = {\n\t        method: 'POST',\n\t        body: JSON.stringify(data),\n\t        headers: {\n\t          'Content-Type': 'application/json',\n\t          'X-App-Token': this.appToken\n\t        },\n\t        credentials: 'include'\n\t      };\n\t      var url = this._host + '/sessions/create';\n\t\n\t      return fetch(url, options).then(function (response) {\n\t        if (response.status < 200 || response.status >= 300) {\n\t          throw response;\n\t        } else {\n\t          return response;\n\t        }\n\t      }).then(function (response) {\n\t        if (response.status == 204) {\n\t          return null;\n\t        }\n\t        return response.json();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'logout',\n\t    value: function logout(all) {\n\t      var options = {\n\t        method: 'POST',\n\t        headers: {\n\t          'Content-Type': 'application/json',\n\t          'X-App-Token': this.appToken\n\t        },\n\t        credentials: 'include'\n\t      };\n\t      var path = all ? 'sessions/invalidate' : 'sessions/current/invalidate';\n\t      var url = this._host + path;\n\t      return fetch(url, options).then(function (response) {\n\t        if (response.status < 200 || response.status >= 300) {\n\t          throw response;\n\t        } else {\n\t          return response;\n\t        }\n\t      });\n\t    }\n\t  }]);\n\n\t  return Auth;\n\t}();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.mediaDataStates = exports.mediaTypes = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tvar _base = __webpack_require__(6);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _utf = __webpack_require__(8);\n\t\n\tvar _utf2 = _interopRequireDefault(_utf);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/** Type of media */\n\tvar mediaTypes = exports.mediaTypes = {\n\t  /** Source of data (every other representation can be derived from it). */\n\t  source: 'source',\n\t  /** Reference is link to source */\n\t  reference: 'reference',\n\t  /** Preview is visual/graphical abstraction of source/reference */\n\t  preview: 'preview',\n\t  /** Summary is textual abstraction of source/reference */\n\t  summary: 'summary'\n\t};\n\t\n\t/** Media data upload state */\n\tvar mediaDataStates = exports.mediaDataStates = {\n\t  /** Client is waiting for server to generate signed dataUploadURL */\n\t  waitingForNewUploadURL: 0,\n\t  /** Data Upload URL is valid and client can upload data */\n\t  readyForDataUpload: 1,\n\t  /** Data is valid and can be downloaded/used */\n\t  dataValid: 2\n\t};\n\t\n\t/** Class represents media component of space */\n\t\n\tvar Media = function () {\n\t  /** Upload link for new data. After data is uploaded it is needed to call mark media as uploaded function. */\n\t\n\t  /** Embed media binary data (only if small enough, otherwise use dataDownloadURL and dataUploadURL) */\n\t\n\t  /** Type of media */\n\t\n\t  /** Owner user ID */\n\t\n\t  /** Timestamp of last update */\n\t\n\t\n\t  /** Unique media identifier */\n\t  function Media() {\n\t    _classCallCheck(this, Media);\n\t\n\t    this.state = _Types.entityStates.visible;\n\t  }\n\t\n\t  /**\n\t   * Sets embedData (binary format) from base64 format\n\t   *\n\t   * @param string base64: Base64 encoded data\n\t   */\n\t\n\t  /** If media represents any space then its MUID is present */\n\t\n\t  /** Download url for data (exclusive with embedData) */\n\t\n\t  /** Validity of media data */\n\t\n\t  /** JSON encodec dictionary of media metadata eg. size, encoding, etc. */\n\t\n\t  /** Visibility state */\n\t\n\t  /** Creation timestamp */\n\t\n\t\n\t  _createClass(Media, [{\n\t    key: 'setEmbedDataFromBase64',\n\t    value: function setEmbedDataFromBase64(base64) {\n\t      var binaryString = window.atob(base64);\n\t      var length = binaryString.length;\n\t      var bytes = new Uint8Array(length);\n\t      for (var i = 0; i < length; i++) {\n\t        bytes[i] = binaryString.charCodeAt(i);\n\t      }\n\t      this.embededData = bytes.buffer;\n\t    }\n\t\n\t    /**\n\t     * Sets embedData (binary format) from ANSCI ancoded text\n\t     *\n\t     * @param string value: ANSCII encoded data\n\t     */\n\t\n\t  }, {\n\t    key: 'setEmbedDataFromString',\n\t    value: function setEmbedDataFromString(value) {\n\t      var length = value.length;\n\t      var array = new Uint8Array(length);\n\t      for (var index = 0; index < length; index++) {\n\t        array[index] = value.charCodeAt(index);\n\t      }\n\t      this.embededData = array.buffer;\n\t    }\n\t\n\t    /**\n\t     * Converts emebedData into base64 encoded string\n\t     *\n\t     * @returns string Base64 encoded embedData\n\t     */\n\t\n\t  }, {\n\t    key: 'base64EmbedData',\n\t    value: function base64EmbedData() {\n\t      if (this.embededData == null) {\n\t        return null;\n\t      }\n\t      var binary = '';\n\t      var bytes = new Uint8Array(this.embededData);\n\t      var len = bytes.byteLength;\n\t      for (var i = 0; i < len; i++) {\n\t        binary += String.fromCharCode(bytes[i]);\n\t      }\n\t      return window.btoa(binary);\n\t    }\n\t\n\t    /**\n\t     * Converts utf8 encoded emebedData into string\n\t     *\n\t     * @returns string Decoded text\n\t     */\n\t\n\t  }, {\n\t    key: 'textualEmbedData',\n\t    value: function textualEmbedData() {\n\t      if (this.embededData == null) {\n\t        return null;\n\t      }\n\t      var encoded = this.base64EmbedData();\n\t      var bytes = _base2.default.decode(encoded);\n\t      var text = _utf2.default.decode(bytes);\n\t      return text;\n\t    }\n\t  }, {\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.MUID = json.muid;\n\t      if (json.created_at != null) {\n\t        this.createdAt = new Date(json.created_at);\n\t      }\n\t      if (json.updated_at != null) {\n\t        this.updatedAt = new Date(json.updated_at);\n\t      }\n\t      this.state = json.state;\n\t      this.ownerID = json.owner_id;\n\t      this.metadata = json.metadata;\n\t      this.mediaType = json.tag;\n\t      this.dataState = json.data_state;\n\t      if (json.embeded_data != null) {\n\t        this.setEmbedDataFromBase64(json.embeded_data);\n\t      } else {\n\t        this.embededData = null;\n\t      }\n\t      this.dataDownloadURL = json.data_download_url;\n\t      this.dataUploadURL = json.data_upload_url;\n\t      this.representedSpaceMUID = json.represented_space_muid;\n\t    }\n\t  }, {\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      var json = {};\n\t      json.muid = this.MUID;\n\t      if (this.createdAt != null) {\n\t        json.created_at = this.createdAt.toISOString();\n\t      }\n\t      if (this.updatedAt != null) {\n\t        json.updated_at = this.updatedAt.toISOString();\n\t      }\n\t      json.state = this.state;\n\t      json.owner_id = this.ownerID;\n\t      json.metadata = this.metadata;\n\t      json.tag = this.mediaType;\n\t      json.data_state = this.dataState;\n\t      json.embeded_data = this.base64EmbedData();\n\t      json.data_download_url = this.dataDownloadURL;\n\t      json.data_upload_url = this.dataUploadURL;\n\t      json.represented_space_muid = this.representedSpaceMUID;\n\t      return json;\n\t    }\n\t  }]);\n\t\n\t  return Media;\n\t}();\n\t\n\texports.default = Media;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar entityStates = exports.entityStates = {\n\t  /** Entity us visible to user */\n\t  visible: 0,\n\t  /** Entity is trashed and will be deleted soon */\n\t  deleted: 1\n\t};\n\t\n\t/** Environment of SDK */\n\t\n\t\n\t/** Entity visiblity state */\n\tvar environmentTypes = exports.environmentTypes = {\n\t  /** Production */\n\t  production: 0,\n\t  /** Staging (internal use only) */\n\t  stage: 1,\n\t  /** Local (internal use only) */\n\t  local: 2\n\t};\n\t\n\t/** Configuration of SDK */\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n\t;(function(root) {\n\t\n\t\t// Detect free variables `exports`.\n\t\tvar freeExports = typeof exports == 'object' && exports;\n\t\n\t\t// Detect free variable `module`.\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\tmodule.exports == freeExports && module;\n\t\n\t\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t\t// it as `root`.\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar InvalidCharacterError = function(message) {\n\t\t\tthis.message = message;\n\t\t};\n\t\tInvalidCharacterError.prototype = new Error;\n\t\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\t\n\t\tvar error = function(message) {\n\t\t\t// Note: the error messages used throughout this file match those used by\n\t\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\t\tthrow new InvalidCharacterError(message);\n\t\t};\n\t\n\t\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\t\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\t\n\t\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t\t// implementation. https://gist.github.com/atk/1020396\n\t\tvar decode = function(input) {\n\t\t\tinput = String(input)\n\t\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\t\tvar length = input.length;\n\t\t\tif (length % 4 == 0) {\n\t\t\t\tinput = input.replace(/==?$/, '');\n\t\t\t\tlength = input.length;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tlength % 4 == 1 ||\n\t\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t\t) {\n\t\t\t\terror(\n\t\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar bitCounter = 0;\n\t\t\tvar bitStorage;\n\t\t\tvar buffer;\n\t\t\tvar output = '';\n\t\t\tvar position = -1;\n\t\t\twhile (++position < length) {\n\t\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\t\n\t\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\t\tvar encode = function(input) {\n\t\t\tinput = String(input);\n\t\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\t\terror(\n\t\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t\t'Latin1 range.'\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar padding = input.length % 3;\n\t\t\tvar output = '';\n\t\t\tvar position = -1;\n\t\t\tvar a;\n\t\t\tvar b;\n\t\t\tvar c;\n\t\t\tvar d;\n\t\t\tvar buffer;\n\t\t\t// Make sure any padding is handled outside of the loop.\n\t\t\tvar length = input.length - padding;\n\t\n\t\t\twhile (++position < length) {\n\t\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\t\tc = input.charCodeAt(++position);\n\t\t\t\tbuffer = a + b + c;\n\t\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t\t// matching character for each of them to the output.\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\tif (padding == 2) {\n\t\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\t\tb = input.charCodeAt(++position);\n\t\t\t\tbuffer = a + b;\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t\t'='\n\t\t\t\t);\n\t\t\t} else if (padding == 1) {\n\t\t\t\tbuffer = input.charCodeAt(position);\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t\t'=='\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\t};\n\t\n\t\tvar base64 = {\n\t\t\t'encode': encode,\n\t\t\t'decode': decode,\n\t\t\t'version': '0.1.0'\n\t\t};\n\t\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn base64;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = base64;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tfor (var key in base64) {\n\t\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.base64 = base64;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)(module), (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\t;(function(root) {\n\t\n\t\t// Detect free variables `exports`\n\t\tvar freeExports = typeof exports == 'object' && exports;\n\t\n\t\t// Detect free variable `module`\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\tmodule.exports == freeExports && module;\n\t\n\t\t// Detect free variable `global`, from Node.js or Browserified code,\n\t\t// and use it as `root`\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar stringFromCharCode = String.fromCharCode;\n\t\n\t\t// Taken from https://mths.be/punycode\n\t\tfunction ucs2decode(string) {\n\t\t\tvar output = [];\n\t\t\tvar counter = 0;\n\t\t\tvar length = string.length;\n\t\t\tvar value;\n\t\t\tvar extra;\n\t\t\twhile (counter < length) {\n\t\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\t\toutput.push(value);\n\t\t\t\t\t\tcounter--;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\t// Taken from https://mths.be/punycode\n\t\tfunction ucs2encode(array) {\n\t\t\tvar length = array.length;\n\t\t\tvar index = -1;\n\t\t\tvar value;\n\t\t\tvar output = '';\n\t\t\twhile (++index < length) {\n\t\t\t\tvalue = array[index];\n\t\t\t\tif (value > 0xFFFF) {\n\t\t\t\t\tvalue -= 0x10000;\n\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t\t}\n\t\t\t\toutput += stringFromCharCode(value);\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\tfunction checkScalarValue(codePoint) {\n\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\t\tthrow Error(\n\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t\t' is not a scalar value'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tfunction createByte(codePoint, shift) {\n\t\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t\t}\n\t\n\t\tfunction encodeCodePoint(codePoint) {\n\t\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\t\treturn stringFromCharCode(codePoint);\n\t\t\t}\n\t\t\tvar symbol = '';\n\t\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t\t}\n\t\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t}\n\t\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t}\n\t\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\t\treturn symbol;\n\t\t}\n\t\n\t\tfunction utf8encode(string) {\n\t\t\tvar codePoints = ucs2decode(string);\n\t\t\tvar length = codePoints.length;\n\t\t\tvar index = -1;\n\t\t\tvar codePoint;\n\t\t\tvar byteString = '';\n\t\t\twhile (++index < length) {\n\t\t\t\tcodePoint = codePoints[index];\n\t\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t\t}\n\t\t\treturn byteString;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tfunction readContinuationByte() {\n\t\t\tif (byteIndex >= byteCount) {\n\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t}\n\t\n\t\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\t\tbyteIndex++;\n\t\n\t\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\t\treturn continuationByte & 0x3F;\n\t\t\t}\n\t\n\t\t\t// If we end up here, it’s not a continuation byte\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t\n\t\tfunction decodeSymbol() {\n\t\t\tvar byte1;\n\t\t\tvar byte2;\n\t\t\tvar byte3;\n\t\t\tvar byte4;\n\t\t\tvar codePoint;\n\t\n\t\t\tif (byteIndex > byteCount) {\n\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t}\n\t\n\t\t\tif (byteIndex == byteCount) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// Read first byte\n\t\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\t\tbyteIndex++;\n\t\n\t\t\t// 1-byte sequence (no continuation bytes)\n\t\t\tif ((byte1 & 0x80) == 0) {\n\t\t\t\treturn byte1;\n\t\t\t}\n\t\n\t\t\t// 2-byte sequence\n\t\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\t\tif (codePoint >= 0x80) {\n\t\t\t\t\treturn codePoint;\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\t\treturn codePoint;\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 4-byte sequence\n\t\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\tbyte4 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\t\treturn codePoint;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthrow Error('Invalid UTF-8 detected');\n\t\t}\n\t\n\t\tvar byteArray;\n\t\tvar byteCount;\n\t\tvar byteIndex;\n\t\tfunction utf8decode(byteString) {\n\t\t\tbyteArray = ucs2decode(byteString);\n\t\t\tbyteCount = byteArray.length;\n\t\t\tbyteIndex = 0;\n\t\t\tvar codePoints = [];\n\t\t\tvar tmp;\n\t\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\t\tcodePoints.push(tmp);\n\t\t\t}\n\t\t\treturn ucs2encode(codePoints);\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar utf8 = {\n\t\t\t'version': '2.1.2',\n\t\t\t'encode': utf8encode,\n\t\t\t'decode': utf8decode\n\t\t};\n\t\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn utf8;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = utf8;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tvar object = {};\n\t\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\t\tfor (var key in utf8) {\n\t\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.utf8 = utf8;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)(module), (function() { return this; }())))\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/** Class represents user of Memex */\n\tvar User = function () {\n\t  /** Flag that tells if user set his password or he can be only authenticated using onboarding token */\n\t\n\t  /** Avatar */\n\t\n\t  /** Email of user (unique) */\n\t\n\t  /** Timestamp of last update */\n\t\n\t\n\t  /** Unique user ID */\n\t  function User() {\n\t    _classCallCheck(this, User);\n\t  }\n\t  /** Flag that tells if user has enabled advanced features. This will be in future replaced with full feature flags set. */\n\t\n\t  /** MUID of users origin space (root, entry point) */\n\t\n\t  /** Users password */\n\t\n\t  /** Fullname of user in format FirstName LastName */\n\t\n\t  /** Creation timestamp */\n\t\n\t\n\t  _createClass(User, [{\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.ID = json.id;\n\t      if (json.created_at != null) {\n\t        this.createdAt = new Date(json.created_at);\n\t      }\n\t      if (json.updated_at != null) {\n\t        this.updatedAt = new Date(json.updated_at);\n\t      }\n\t      this.fullname = json.fullname;\n\t      this.email = json.email;\n\t      this.password = json.password;\n\t      this.avatar = json.avatar;\n\t      this.originSpaceMUID = json.origin_space_muid;\n\t      this.hasPassword = json.has_password;\n\t      this.advanced = json.advanced;\n\t    }\n\t  }, {\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      var json = {};\n\t      if (this.createdAt != null) {\n\t        json.created_at = this.createdAt.toISOString();\n\t      }\n\t      if (this.updatedAt != null) {\n\t        json.updated_at = this.updatedAt.toISOString();\n\t      }\n\t      json.fullname = this.fullname;\n\t      json.email = this.email;\n\t      json.password = this.password;\n\t      json.avatar = this.avatar;\n\t      json.origin_space_muid = this.originSpaceMUID;\n\t      json.has_password = this.hasPassword;\n\t      json.advanced = this.advanced;\n\t      if (this.avatar != null) {\n\t        json.avatar_muid = this.avatar.MUID;\n\t      }\n\t      return json;\n\t    }\n\t  }]);\n\t\n\t  return User;\n\t}();\n\t\n\texports.default = User;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.spaceProcessingModes = exports.spaceTypes = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/** Defines known space types */\n\tvar spaceTypes = exports.spaceTypes = {\n\t  /** Origin is simillar to collection but defines entry point into users spaces (root) */\n\t  origin: 'com.memex.origin',\n\t  /** Collection of links to spaces */\n\t  collection: 'com.memex.media.collection',\n\t  /** Space that represents web link */\n\t  webPage: 'com.memex.media.webpage',\n\t  /** Graphical kind of space */\n\t  image: 'com.memex.media.image',\n\t  /** Textual kind of space */\n\t  text: 'com.memex.media.text'\n\t};\n\t\n\t/** Defines space processing modes */\n\tvar spaceProcessingModes = exports.spaceProcessingModes = {\n\t  /** Don't process */\n\t  no: 'no',\n\t  /** Wait for results */\n\t  sync: 'sync',\n\t  /** Dont wait for results */\n\t  async: 'async'\n\t};\n\t\n\t/** Class represents space (abstraction for linked spaces) */\n\t\n\tvar Space = function () {\n\t  /** Set of media that represents space (eg webpage space is represented by url, thumbnail, summary) */\n\t\n\t  /** Caption */\n\t\n\t  /** Owner user ID */\n\t\n\t  /** Timestamp of last visit */\n\t\n\t  /** Creation timestamp */\n\t  function Space() {\n\t    _classCallCheck(this, Space);\n\t\n\t    this.state = _Types.entityStates.visible;\n\t    this.spaceType = spaceTypes.collection;\n\t    this.representations = [];\n\t    this.unread = false;\n\t  }\n\t\n\t  /**\n\t   * Returns visible representation of specified type\n\t   *\n\t   * @param MediaType mediaType: Type of media/representation\n\t   * @returns Media: Returns found media (null if not found)\n\t   */\n\t\n\t  /** Unread flag (if user needs to be notified about changes)*/\n\t\n\t  /** Tint color */\n\t\n\t  /** Type (eg. com.memex.media.collection, etc.) */\n\t\n\t  /** Visibility state */\n\t\n\t  /** Timestamp of last update */\n\t\n\t\n\t  /** Unique identifier */\n\t\n\t\n\t  _createClass(Space, [{\n\t    key: 'getRepresentation',\n\t    value: function getRepresentation(mediaType) {\n\t      if (this.representations == null) {\n\t        return null;\n\t      }\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = this.representations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var media = _step.value;\n\t\n\t          if (media.mediaType === mediaType && media.state === _Types.entityStates.visible) {\n\t            return media;\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.MUID = json.muid;\n\t      if (json.created_at != null) {\n\t        this.createdAt = new Date(json.created_at);\n\t      }\n\t      if (json.updated_at != null) {\n\t        this.updatedAt = new Date(json.updated_at);\n\t      }\n\t      if (json.visited_at != null) {\n\t        this.visitedAt = new Date(json.visited_at);\n\t      }\n\t      this.state = json.state;\n\t      this.ownerID = json.owner_id;\n\t      this.spaceType = json.type_identifier;\n\t      this.caption = json.caption;\n\t      this.color = json.color;\n\t      if (json.representations != null) {\n\t        this.representations = json.representations.map(function (json) {\n\t          var media = new _Media2.default();\n\t          media.fromJSON(json);\n\t          return media;\n\t        });\n\t      } else {\n\t        this.representations = null;\n\t      }\n\t      this.unread = json.unread || false;\n\t    }\n\t  }, {\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      var json = {};\n\t      json.muid = this.MUID;\n\t      if (this.createdAt != null) {\n\t        json.created_at = this.createdAt.toISOString();\n\t      }\n\t      if (this.updatedAt != null) {\n\t        json.updated_at = this.updatedAt.toISOString();\n\t      }\n\t      if (this.visitedAt != null) {\n\t        json.visited_at = this.visitedAt.toISOString();\n\t      }\n\t      json.state = this.state;\n\t      json.owner_id = this.ownerID;\n\t      json.type_identifier = this.spaceType;\n\t      json.caption = this.caption;\n\t      json.color = this.color;\n\t      if (this.representations != null) {\n\t        json.representations = this.representations.map(function (media) {\n\t          return media.toJSON();\n\t        });\n\t      }\n\t      return json;\n\t    }\n\t  }]);\n\t\n\t  return Space;\n\t}();\n\t\n\texports.default = Space;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/** Class represents space visit */\n\tvar SpaceVisit = function () {\n\t\n\t  /** Unique identifier */\n\t  function SpaceVisit() {\n\t    _classCallCheck(this, SpaceVisit);\n\t  }\n\t  /** Timestamp of last visit */\n\t\n\t\n\t  _createClass(SpaceVisit, [{\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      var json = {};\n\t      json.muid = this.MUID;\n\t      if (this.visitedAt != null) {\n\t        json.visited_at = this.visitedAt.toISOString();\n\t      }\n\t      return json;\n\t    }\n\t  }]);\n\t\n\t  return SpaceVisit;\n\t}();\n\t\n\texports.default = SpaceVisit;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tvar _Space = __webpack_require__(10);\n\t\n\tvar _Space2 = _interopRequireDefault(_Space);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/** Class represents link between two spaces. */\n\tvar Link = function () {\n\t  /** Origin space */\n\t\n\t  /** Owner user ID */\n\t\n\t  /** Timestamp of last update */\n\t\n\t\n\t  /** Unique identifier */\n\t  function Link() {\n\t    _classCallCheck(this, Link);\n\t\n\t    this.state = _Types.entityStates.visible;\n\t  }\n\t  /** Target space */\n\t\n\t  /** Index that is used for sorting of links in space */\n\t\n\t  /** Visibility state */\n\t\n\t  /** Creation timestamp */\n\t\n\t\n\t  _createClass(Link, [{\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.MUID = json.muid;\n\t      if (json.created_at != null) {\n\t        this.createdAt = new Date(json.created_at);\n\t      }\n\t      if (json.updated_at != null) {\n\t        this.updatedAt = new Date(json.updated_at);\n\t      }\n\t      this.state = json.state;\n\t      this.ownerID = json.owner_id;\n\t      this.order = json.order;\n\t      if (json.origin_space_muid != null) {\n\t        this.origin = new _Space2.default();\n\t        this.origin.MUID = json.origin_space_muid;\n\t      }\n\t      if (json.target_space_muid != null) {\n\t        this.target = new _Space2.default();\n\t        this.target.MUID = json.target_space_muid;\n\t      }\n\t      if (json.target_space != null) {\n\t        this.target = new _Space2.default();\n\t        this.target.fromJSON(json.target_space);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      var json = {};\n\t      json.muid = this.MUID;\n\t      if (this.createdAt != null) {\n\t        json.created_at = this.createdAt.toISOString();\n\t      }\n\t      if (this.updatedAt != null) {\n\t        json.updated_at = this.updatedAt.toISOString();\n\t      }\n\t      json.state = this.state;\n\t      json.owner_id = this.ownerID;\n\t      json.order = this.order;\n\t      if (this.target != null) {\n\t        json.target_space_muid = this.target.MUID;\n\t      }\n\t      if (this.origin != null) {\n\t        json.target_space_muid = this.origin.MUID;\n\t      }\n\t      return json;\n\t    }\n\t  }]);\n\t\n\t  return Link;\n\t}();\n\t\n\texports.default = Link;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar appStates = exports.appStates = {\n\t  /** App is new and review wasn't requested yet */\n\t  new: 0,\n\t  /** Appr review is requested */\n\t  requested: 1,\n\t  /** App was approved and will get higher limits */\n\t  approved: 2,\n\t  /** App was rejected by reviewer */\n\t  rejected: 3,\n\t  /** App was blocked by admin */\n\t  blocked: 4\n\t};\n\t\n\t/** Platform/language of SDK */\n\t\n\t\n\t/** Approval state of app  */\n\tvar appPlatforms = exports.appPlatforms = {\n\t  /** Native REST API */\n\t  rest: 0,\n\t  /** Swift */\n\t  swift: 1,\n\t  /** JavaScript */\n\t  javaScript: 2,\n\t  /** Go */\n\t  golang: 3\n\t};\n\t\n\t/** Class representing app. */\n\t\n\tvar App = function () {\n\t  /** Approval state of the app */\n\t\n\t  /** App product page */\n\t\n\t  /** Secription of app (is used in review process) */\n\t\n\t\n\t  /** Unique identifier */\n\t  function App() {\n\t    _classCallCheck(this, App);\n\t  }\n\t  /** Default plaform for the app. App can be used from any other platform. This value is used only for suggestion of SDK. */\n\t\n\t  /** App token (is sent with every request in X-App-Token HTTP header) */\n\t\n\t  /** Developer contact email */\n\t\n\t  /** Name of app */\n\t\n\t\n\t  _createClass(App, [{\n\t    key: \"fromJSON\",\n\t    value: function fromJSON(json) {\n\t      this.id = json.id;\n\t      this.name = json.name;\n\t      this.description = json.description;\n\t      this.email = json.email;\n\t      this.webpage = json.webpage;\n\t      this.token = json.token;\n\t      this.state = json.state;\n\t      this.platform = json.platform;\n\t    }\n\t  }, {\n\t    key: \"toJSON\",\n\t    value: function toJSON() {\n\t      return {\n\t        name: this.name,\n\t        description: this.description,\n\t        email: this.email,\n\t        webpage: this.webpage,\n\t        platform: this.platform\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return App;\n\t}();\n\t\n\texports.default = App;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** memex-js-sdk.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3f8da07bf7344c8647ef\n **/","// @flow\n\nimport { Spaces } from './Spaces.js';\nimport User from './data/User.js';\nimport Media from './data/Media.js';\nimport Space from './data/Space.js';\nimport SpaceVisit from './data/SpaceVisit.js';\nimport Link from './data/Link.js';\nimport App from './data/App.js';\nimport { environmentTypes, entityStates } from './data/Types.js';\nimport { mediaTypes, mediaDataStates } from './data/Media.js';\nimport { spaceTypes } from './data/Space.js';\nimport { appPlatforms } from './data/App.js';\nimport type { MediaType, MediaDataState } from './data/Media.js';\nimport type { SpaceType } from './data/Space.js';\nimport type { AppPlatform } from './data/App.js';\n\nvar Memex = {\n  /** Shared instance of Spaces */\n  sharedClient: new Spaces(),\n  entityStates: entityStates,\n  environmentTypes: environmentTypes,\n  mediaTypes: mediaTypes,\n  spaceTypes: spaceTypes,\n  mediaDataStates: mediaDataStates,\n  appPlatforms: appPlatforms,\n  Media: Media,\n  Space: Space,\n  SpaceVisit: SpaceVisit,\n  Link: Link,\n  App: App,\n  User: User,\n}\n\nexport default Memex;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Exports.js\n **/","// @flow\n\nimport 'whatwg-fetch';\n\nimport { Auth } from './Auth.js';\n\nimport Media from './data/Media.js';\nimport User from './data/User.js';\nimport Space from './data/Space.js';\nimport SpaceVisit from './data/SpaceVisit.js';\nimport Link from './data/Link.js';\nimport App from './data/App.js';\nimport { mediaTypes, mediaDataStates } from './data/Media.js';\nimport { spaceTypes, spaceProcessingModes } from './data/Space.js';\nimport type { SpaceProcessingMode } from './data/Space.js';\nimport type { EnvironmentType, Configuration } from './data/Types.js';\nimport { environmentTypes } from './data/Types.js';\n\ntype Method = string;\nconst methods = {\n  GET: 'GET',\n  POST: 'POST'\n};\n\nexport class Spaces {\n\n  _configuration: Configuration;\n  _auth: Auth;\n\n  constructor() {\n    this._configuration = {\n      appToken: \"\",\n      environment: environmentTypes.production,\n      url: null\n    }\n    this._setEnvironment(environmentTypes.production, null)\n  }\n\n  _isConfigured(): bool {\n    if (this._configuration.appToken === \"\") {\n      console.error(\"Missing Memex configuration, call Memex.client.setAppToken('<Your app token>')\");\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Sets app API token\n   *\n   * @param string token: App's unique API token\n   */\n  setAppToken(token: string) {\n    this._configuration.appToken = token;\n    this._auth.appToken = token;\n  }\n\n  _setEnvironment(environment: EnvironmentType, url: ?string) {\n    this._configuration.environment = environment;\n    this._configuration.url = url;\n    this._auth = new Auth(this._APIURL(environment, url));\n    this._auth.appToken = this._configuration.appToken;\n  }\n\n  _APIURL(environment: EnvironmentType, url: ?string): string {\n    if (url != null) {\n      return url;\n    }\n    switch (environment) {\n      case environmentTypes.production:\n        return 'https://mmx-spaces-api-prod.herokuapp.com';\n      case environmentTypes.stage:\n        return 'https://mmx-spaces-api-stage.herokuapp.com';\n      case environmentTypes.local:\n        return 'http://localhost:8081';\n      default:\n        console.error('Unknown environment');\n        return '';\n    }\n  }\n\n  /**\n   * Login user using standard email/password credentials\n   *\n   * @param string email: Users unique email\n   * @param string password: Users secret password\n   */\n  loginWithCredentials(email: string, password: string): ?Promise {\n    if (!this._isConfigured()) {\n      return null;\n    }\n    return this._auth.loginWithCredentials(email, password);\n  }\n\n  /**\n   * Login user using onboarding token\n   *\n   * @param string onboardingToken: Onboarding token\n   */\n  loginWithOnboardingToken(onboardingToken: string): ?Promise {\n    if (!this._isConfigured()) {\n      return null;\n    }\n    return this._auth.loginWithOnboardingToken(onboardingToken);\n  }\n\n  /**\n   * Login user using two factor authorization retry token\n   *\n   * @param string retryToken: TFA retry token\n   * @param string activationToken: TFA activation code\n   */\n  loginWithRetryToken(retryToken: string, activationToken: ?string): ?Promise {\n    if (!this._isConfigured()) {\n      return null;\n    }\n    return this._auth.loginWithTFARetryToken(retryToken, activationToken);\n  }\n\n  /**\n   * Logout user. Removes user token from local storage.\n   */\n  logout(all: bool): ?Promise {\n    if (!this._isConfigured()) {\n      return null;\n    }\n    return this._auth.logout(all);\n  }\n\n  //////////////////////////////////////////////////////////////////////\n  // Media Handler\n  //////////////////////////////////////////////////////////////////////\n\n  /**\n   * New media creation. If there is some data that needs to be uploaded put it to dataUploadURL and call markMediaAsUploaded.\n   *\n   * @param Media media: New media\n   * @param Object completion: Completion handler that will get created media and success flag\n   */\n  createMedia(media: Media,\n              completion: (media: ?Media, success: bool) => void) {\n    let body = media.toJSON();\n    this._perform(methods.POST,\n                  'teams/personal/media',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let media = new Media();\n      media.fromJSON(json);\n      completion(media, true);\n    });\n  }\n\n  /**\n   * Returns media object. It can be used when dataDownloadURL is expired and new is needed.\n   *\n   * @param string mediaMUID: Requested media MUID\n   * @param Object completion: Completion handler that will get media and success flag\n   */\n  getMedia(mediaMUID: string, completion: (media: ?Media, success: bool)=>void) {\n    this._perform(\n      methods.GET,\n      'teams/personal/media/'+mediaMUID,\n      null,\n      null,\n      null,\n      (json: ?Object, success: bool) => {\n        if (success === false || json == null) {\n          completion(null, false);\n          return;\n        }\n        let media = new Media();\n        media.fromJSON(json);\n        completion(media, true);\n      });\n  }\n\n  /**\n   * Marks media data as uploaded. It means that data was uploaded to dataUploadURL and dataState now can change to valid state.\n   *\n   * @param string mediaMUID: Requested media MUID\n   * @param Object completion: Completion handler\n   */\n  markMediaAsUploaded(mediaMUID: string, completion: (success: bool)=>void) {\n    this._perform(\n      methods.POST,\n      'teams/personal/media/'+mediaMUID+'/mark-as-uploaded',\n      null,\n      null,\n      null,\n      (json: ?Object, success: bool) => {\n        if (success === false || json == null) {\n          completion(false);\n          return;\n        }\n        completion(true);\n      });\n  }\n\n  //////////////////////////////////////////////////////////////////////\n  // Spaces Handler\n  //////////////////////////////////////////////////////////////////////\n\n  /**\n   * Creates collection space\n   *\n   * @param string tag: Caption of new space\n   * @param bool autodump: True if new space should be autodumped\n   * @param Object completion: Completion handler that will get created space and success flag\n   */\n  createCollectionSpace(tag: string,\n                        autodump: bool,\n                        completion: (space: ?Space, success: bool) => void) {\n    let space = new Space();\n    space.caption = tag;\n    space.color = null;\n    space.spaceType = spaceTypes.collection;\n    space.representations = [];\n    this.createSpace(space, spaceProcessingModes.sync, autodump, completion);\n  }\n\n  /**\n   * Creates image space from URL\n   *\n   * @param string url: Source URL of image\n   * @param bool autodump: True if new space should be autodumped\n   * @param Object completion: Completion handler that will get created space and success flag\n   */\n  createImageSpace(imageURL: string,\n                   autodump: bool,\n                   completion: (space: ?Space, success: bool) => void) {\n    let media = new Media();\n    media.dataDownloadURL = imageURL;\n    media.dataState = mediaDataStates.dataValid;\n    media.mediaType = mediaTypes.source;\n\n    let space = new Space();\n    space.spaceType = spaceTypes.image;\n    space.representations = [media];\n\n    this.createSpace(space, spaceProcessingModes.sync, autodump, completion);\n  }\n\n  /**\n   * Creates webpage space from URL\n   *\n   * @param string url: URL of webpage\n   * @param bool autodump: True if new space should be autodumped\n   * @param Object completion: Completion handler that will get created space and success flag\n   */\n  createWebPageSpace(url: string,\n                     autodump: bool,\n                     completion: (space: ?Space, success: bool) => void) {\n    let media = new Media();\n    media.setEmbedDataFromString(url);\n    media.dataState = mediaDataStates.dataValid;\n    media.mediaType = mediaTypes.reference;\n\n    let space = new Space();\n    space.spaceType = spaceTypes.webPage;\n    space.representations = [media];\n\n    this.createSpace(space, spaceProcessingModes.sync, autodump, completion);\n  }\n\n  /**\n   * Creates text space\n   *\n   * @param string text: Content text\n   * @param bool autodump: True if new space should be autodumped\n   * @param Object completion: Completion handler that will get created space and success flag\n   */\n  createTextSpace(text: string,\n                  autodump: bool,\n                  completion: (space: ?Space, success: bool) => void) {\n    let media = new Media();\n    media.setEmbedDataFromString(text);\n    media.dataState = mediaDataStates.dataValid;\n    media.mediaType = mediaTypes.source;\n\n    let space = new Space();\n    space.spaceType = spaceTypes.text;\n    space.representations = [media];\n\n    this.createSpace(space, spaceProcessingModes.sync, autodump, completion);\n  }\n\n  /**\n   * Creates space\n   *\n   * @param Space space: New space\n   * @param SpaceProcessingMode process: Defines processing mode\n   * @param bool autodump: True if new space should be autodumped\n   * @param Object completion: Completion handler that will get created space and success flag\n   */\n  createSpace(space: Space,\n              process: SpaceProcessingMode,\n              autodump: bool,\n              completion: (space: ?Space, success: bool) => void) {\n    let headers = {\n      'X-Processing-Mode': process,\n      'X-Autodump-Mode': autodump\n    };\n    this._perform(methods.POST,\n                  'teams/personal/spaces',\n                  null,\n                  headers,\n                  [space.toJSON()],\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let space = new Space();\n      space.fromJSON(json[0]);\n      completion(space, true);\n    });\n  }\n\n  /**\n   * Get space\n   *\n   * @param string spaceMUID: Requested space MUID (or you can use keyword 'origin' for fetching users's origin space)\n   * @param Object completion: Completion handler that will get space and success flag\n   */\n  getSpace(spaceMUID: string, completion: (space: ?Space, success: bool)=>void) {\n    this._perform(\n      methods.GET,\n      'teams/personal/spaces/'+spaceMUID,\n      null,\n      null,\n      null,\n      (json: ?Object, success: bool) => {\n        if (success === false || json == null) {\n          completion(null, false);\n          return;\n        }\n        let space = new Space();\n        space.fromJSON(json);\n        completion(space, true);\n      });\n  }\n\n  /**\n   * Log space visits\n   *\n   * @param string visits: Array of space visits. Can contain multiple spaces with same MUID.\n   * @param Object completion: Completion handler\n   */\n  logSpaceVisits(visits: Array<SpaceVisit>, completion: (success: bool)=>void) {\n    let body = {\n      spaces: visits.map(function(visit: SpaceVisit): Media {\n        return visit.toJSON();\n      })\n    };\n    this._perform(\n      methods.POST,\n      'teams/personal/spaces/log-visits',\n      null,\n      null,\n      body,\n      (json: ?Object, success: bool) => {\n        if (success === false || json == null) {\n          completion(false);\n          return;\n        }\n        completion(true);\n      });\n  }\n\n  /**\n   * Returns abstraction (caption) for set of spaces\n   *\n   * @param string muids: Set of space MUIDs for that will be caption generated\n   * @param Object completion: Completion handler\n   */\n  getSpacesAbstract(muids: Array<string>, completion: (caption: ?string, success: bool)=>void) {\n    let body = {\n      space_MUIDs: muids\n    };\n    this._perform(\n      methods.POST,\n      'teams/personal/spaces/abstract',\n      null,\n      null,\n      body,\n      (json: ?Object, success: bool) => {\n        if (success === false || json == null) {\n          completion(null, false);\n          return;\n        }\n        completion(json.caption, true);\n      });\n  }\n\n  //////////////////////////////////////////////////////////////////////\n  // Links Handler\n  //////////////////////////////////////////////////////////////////////\n\n  /**\n   * NNew link creation.\n   *\n   * @param Link link: New link\n   * @param Object completion: Completion handler that will get created media and success flag\n   */\n  createMedia(link: Link,\n              completion: (link: ?Link, success: bool) => void) {\n    let body = {\n      link: link.toJSON(),\n    };\n    this._perform(methods.POST,\n                  'teams/personal/links',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let link = new Link();\n      link.fromJSON(json);\n      completion(link, true);\n    });\n  }\n\n  /**\n   * Get space links\n   *\n   * @param string spaceMUID: Requested space MUID (or you can use keyword 'origin' for fetching users's origin space)\n   * @param Object completion: Completion handler that will get array of links and success flag\n   */\n  getSpaceLinks(spaceMUID: string,\n                completion: (links: ?Array<Link>, success: bool)=>void) {\n    let path = 'teams/personal/spaces/'+spaceMUID+'/links';\n    let query = {\n      include_target: true\n    };\n    this._perform(methods.GET, path, query, null, null, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let links = [];\n      for (let item of json) {\n        let link = new Link();\n        link.fromJSON(item);\n        links.push(link);\n      }\n      completion(links, true);\n    });\n  }\n\n  //////////////////////////////////////////////////////////////////////\n  // App Handler\n  //////////////////////////////////////////////////////////////////////\n\n  /**\n   * New app creation\n   *\n   * @param App app: New app object\n   * @param Object completion: Completion handler that will get created app and success flag\n   */\n  createApp(app: App, completion: (app: ?App, success: bool) => void) {\n    let body = {\n      app: app.toJSON(),\n    };\n    this._perform(methods.POST, 'apps', null, null, body, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json);\n      completion(newApp, true);\n    });\n  }\n\n  /**\n   * Get app detail\n   *\n   * @param number id: Fetched App ID\n   * @param Object completion: Completion handler that will get app and success flag\n   */\n  getApp(id: number, completion: (app: ?App, success: bool) => void) {\n    this._perform(methods.GET, 'apps/'+id,\n                  null,\n                  null,\n                  null,\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json);\n      completion(newApp, true);\n    });\n  }\n\n  /**\n   * Update app\n   *\n   * @param App app: Updated app object\n   * @param Object completion: Completion handler that will get updated app and success flag\n   */\n  updateApp(app: App, completion: (app: ?App, success: bool) => void) {\n    if (app.id === null) {\n      console.error(\"Missing app id\");\n      completion(null, false);\n      return;\n    }\n    let body = {\n      app: app.toJSON(),\n    };\n    this._perform(methods.POST,\n                  'apps/'+app.id,\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json);\n      completion(newApp, true);\n    });\n  }\n\n  /**\n   * Renew app token. Will generate new app token (all clients that uses old one will stop working!!)\n   *\n   * @param number appID: App ID\n   * @param Object completion: Completion handler that will get updated app and success flag\n   */\n  renewAppToken(appID: number, completion: (app: ?App, success: bool) => void) {\n    this._perform(methods.POST,\n                  'apps/'+appID+\"/renew-token\",\n                  null,\n                  null,\n                  {},\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json);\n      completion(newApp, true);\n    });\n  }\n\n  /**\n   * Get all users apps\n   *\n   * @param Object completion: Completion handler that will get array of all users apps and success flag\n   */\n  getApps(completion: (apps: ?Array<App>, success: bool)=>void) {\n    let path = 'apps';\n    this._perform(methods.GET, path, {}, null, null, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let apps = [];\n      for (let item of json) {\n        let app = new App();\n        app.fromJSON(item);\n        apps.push(app);\n      }\n      completion(apps, true);\n    });\n  }\n\n  //////////////////////////////////////////////////////////////////////\n  // User Handler\n  //////////////////////////////////////////////////////////////////////\n\n  /**\n   * Creates new user. User object must contains password and valid email.\n   *\n   * @param User user: New user object\n   * @param string onboardingToken: Onboarding token (optional)\n   * @param Object completion: Completion handler that will return new user object and success flag\n   */\n  createUser(user: User, onboardingToken: ?string, completion: (user: ?User, success: bool) => void) {\n    var body = {\n      user: user.toJSON(),\n      onboardingToken: onboardingToken\n    };\n    this._perform(methods.POST,\n                  'users',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newUser = new User();\n      newUser.fromJSON(json);\n      completion(newUser, true);\n    });\n  }\n\n  /**\n   * Fetch user detail.\n   *\n   * @param number userID: Optional user ID. If null then you will get authenticated user detail.\n   * @param Object completion: Completion handler that will return requested user object and success flag\n   */\n  getUser(userID: ?number, completion: (user: ?User, success: bool) => void) {\n    this._perform(methods.GET, 'users/' + (userID == null ? 'self' : userID),\n                  null,\n                  null,\n                  null,\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newUser = new User();\n      newUser.fromJSON(json);\n      completion(newUser, true);\n    });\n  }\n\n  /**\n   * Update user. For password updates use setUserPassword function.\n   *\n   * @param User user: Updated user object\n   * @param Object completion: Completion handler that will return update user object and success flag\n   */\n  updateUser(user: User, completion: (user: ?User, success: bool) => void) {\n    var body = {\n      user: user.toJSON()\n    };\n    this._perform(methods.POST,\n                  'users/self',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newUser = new User();\n      newUser.fromJSON(json);\n      completion(newUser, true);\n    });\n  }\n\n  /**\n   * Sets user password.\n   *\n   * @param string oldPassword: Old user's password (if any exists - user was not authenticated by onboarding token)\n   * @param string newPassword: New password\n   * @param Object completion: Completion handler that will return only success flag\n   */\n  setUserPassword(oldPassword: ?string,\n                  newPassword: string,\n                  completion: (success: bool) => void) {\n    var body = {\n      old_password: oldPassword,\n      new_password: newPassword\n    };\n    this._perform(methods.POST,\n                  'users/self/change-password',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false) {\n        completion(false);\n        return;\n      }\n      completion(true);\n    });\n  }\n\n\n  /**\n   * Request password reset.\n   *\n   * @param string email: Email for request account\n   * @param Object completion: Completion handler that will return only success flag\n   */\n  requestPasswordReset(email: string,\n                       completion: (success: bool) => void) {\n    var body = {\n      email: email\n    };\n    this._perform(methods.POST,\n                  'users/self/request-password-reset',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false) {\n        completion(false);\n        return;\n      }\n      completion(true);\n    });\n  }\n\n  /**\n   * Reset password.\n   *\n   * @param string resetToken: Password reset token that was recevied by email\n   * @param string newPassword: New password\n   * @param Object completion: Completion handler that will return only success flag\n   */\n  resetPassword(resetToken: string,\n                newPassword: string,\n                completion: (success: bool) => void) {\n    var body = {\n      token: resetToken,\n      new_password: newPassword,\n    };\n    this._perform(methods.POST,\n                  'users/self/reset-password',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false) {\n        completion(false);\n        return;\n      }\n      completion(true);\n    });\n  }\n\n  /**\n   * Request contact verification.\n   *\n   * @param string type: Contact type\n   * @param string newPassword: New password\n   * @param Object completion: Completion handler that will return only success flag\n   */\n  requestContactVerification(type: string,\n                            completion: (success: bool) => void) {\n    var body = {\n      type: type,\n    };\n    this._perform(methods.POST,\n                  'users/self/contacts/request-verification',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false) {\n        completion(false);\n        return;\n      }\n      completion(true);\n    });\n  }\n\n  /**\n   * Verify user contact.\n   *\n   * @param string type: Contact type\n   * @param string verificationToken: Verification token\n   * @param Object completion: Completion handler that will return only success flag\n   */\n  verifyContact(type: string,\n                verificationToken: string,\n                completion: (success: bool) => void) {\n    var body = {\n      type: type,\n      token: verificationToken,\n    };\n    this._perform(methods.POST,\n                  'users/self/contacts/verify',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false) {\n        completion(false);\n        return;\n      }\n      completion(true);\n    });\n  }\n\n  /**\n   * Activate TFA session.\n   *\n   * @param string activationToken: TFA activation token\n   * @param Object completion: Completion handler that will return only success flag\n   */\n  activateTFASession(activationToken: string,\n                completion: (success: bool) => void) {\n    var body = {\n      activation_token: activationToken,\n    };\n    this._perform(methods.POST,\n                  'sessions/mfa-activate',\n                  null,\n                  null,\n                  body,\n                  (json: ?Object, success: bool) => {\n      if (success === false) {\n        completion(false);\n        return;\n      }\n      completion(true);\n    });\n  }\n\n  //////////////////////////////////////////////////////////////////////\n  // Shared\n  //////////////////////////////////////////////////////////////////////\n\n  _perform(method: Method, path: string, query: ?Object, headers: ?Object, body: ?Object,\n           completion: (json: ?Object, success: bool) => void) {\n    if (!this._isConfigured()) {\n      return;\n    }\n    if (headers == null) {\n      headers = {};\n    }\n    headers['Content-Type'] = 'application/json';\n    headers['X-App-Token'] = this._configuration.appToken;\n    if (this._auth.userToken != null) {\n      headers['X-User-Token'] = this._auth.userToken;\n    }\n    let options = {\n      method: method,\n      body: body != null ? JSON.stringify(body) : null,\n      headers: headers,\n      credentials: 'include'\n    };\n\n    let host = this._APIURL(this._configuration.environment, this._configuration.url);\n    let url = host + '/' + path;\n    let resultQuery = query;\n    if (resultQuery != null) {\n      let keys = Object.keys(resultQuery);\n      let queryString = keys.reduce(function(array: Array<string>, key: string): Array<string> {\n        if (resultQuery == null) {\n          return array;\n        }\n        let value = resultQuery[key];\n        array.push(key+'='+encodeURIComponent(value));\n        return array;\n      }, []).join('&');\n      url += '?' + queryString;\n    }\n    fetch(url, options)\n      .then((response: Object): Object => {\n        if (response.status < 200 || response.status >= 300) {\n          throw response;\n        } else {\n          return response;\n        }\n      })\n      .then((response: any): Object => {\n        if (response.status == 204) {\n          completion(null, true);\n          return null;\n        }\n        return response.json();\n      })\n      .then((response: Object) => {\n        completion(response, true);\n      },\n      (error: Object) => {\n        completion(null, false);\n      });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Spaces.js\n **/","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/whatwg-fetch/fetch.js\n ** module id = 2\n ** module chunks = 0\n **/","// @flow\n\nimport 'whatwg-fetch';\n\nimport type { Configuration } from './data/Types.js';\n\ntype AuthResponse = {\n  retry_token: ?string;\n  type: ?string;\n  activation_token_expires_at: ?DateTime;\n}\n\ntype MFAChallange = {\n  token: ?string;\n  mfa: ?MFAChallange;\n}\n\nexport class Auth {\n\n  appToken: string;\n  _host: string;\n\n  constructor(host: string) {\n    this._host = host;\n  }\n\n  loginWithCredentials(email: string, password: string): Promise {\n    let data = {\n      identity: {\n        email: email\n      },\n      secret: {\n        password: password\n      }\n    };\n    return this.login(data);\n  }\n\n  loginWithOnboardingToken(onboardingToken: string): Promise {\n    let data = {\n      secret: {\n        onboarding_token: onboardingToken\n      }\n    };\n    return this.login(data);\n  }\n\n  loginWithTFARetryToken(retryToken: string, activationToken: ?string): Promise {\n    let data = {\n      identity: {\n        retry_token: retryToken\n      },\n      secret: {\n        activation_token: activationToken\n      }\n    };\n    return this.login(data);\n  }\n\n  login(data: Object): Promise {\n    let options = {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'X-App-Token': this.appToken\n      },\n      credentials: 'include'\n    };\n    let url = this._host + '/sessions/create';\n\n    return fetch(url, options)\n      .then((response: Object): Object => {\n        if (response.status < 200 || response.status >= 300) {\n          throw response;\n        } else {\n          return response;\n        }\n      })\n      .then((response: Object): ?AuthResponse => {\n        if (response.status == 204) {\n          return null;\n        }\n        return response.json();\n      })\n  }\n\n  logout(all: bool): Promise {\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-App-Token': this.appToken\n      },\n      credentials: 'include'\n    };\n    let path = all ? 'sessions/invalidate' : 'sessions/current/invalidate';\n    let url = this._host + path;\n    return fetch(url, options)\n      .then((response: Object): Object => {\n        if (response.status < 200 || response.status >= 300) {\n          throw response;\n        } else {\n          return response;\n        }\n      })\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Auth.js\n **/","// @flow\n\nimport type { EntityState } from './Types.js';\nimport { entityStates } from './Types.js';\n\nimport base64 from 'base-64';\nimport utf8 from 'utf8';\n\n/** Type of media */\nexport type MediaType = string;\nexport const mediaTypes = {\n  /** Source of data (every other representation can be derived from it). */\n  source: 'source',\n  /** Reference is link to source */\n  reference: 'reference',\n  /** Preview is visual/graphical abstraction of source/reference */\n  preview: 'preview',\n  /** Summary is textual abstraction of source/reference */\n  summary: 'summary'\n};\n\n/** Media data upload state */\nexport type MediaDataState = number;\nexport const mediaDataStates = {\n  /** Client is waiting for server to generate signed dataUploadURL */\n  waitingForNewUploadURL: 0,\n  /** Data Upload URL is valid and client can upload data */\n  readyForDataUpload: 1,\n  /** Data is valid and can be downloaded/used */\n  dataValid: 2\n};\n\n/** Class represents media component of space */\nexport default class Media {\n\n  /** Unique media identifier */\n  MUID: ?string;\n  /** Creation timestamp */\n  createdAt: ?Date;\n  /** Timestamp of last update */\n  updatedAt: ?Date;\n  /** Visibility state */\n  state: EntityState;\n  /** Owner user ID */\n  ownerID: ?number;\n  /** JSON encodec dictionary of media metadata eg. size, encoding, etc. */\n  metadata: ?string;\n  /** Type of media */\n  mediaType: ?MediaType;\n  /** Validity of media data */\n  dataState: MediaDataState;\n  /** Embed media binary data (only if small enough, otherwise use dataDownloadURL and dataUploadURL) */\n  embededData: ?ArrayBuffer;\n  /** Download url for data (exclusive with embedData) */\n  dataDownloadURL: ?string;\n  /** Upload link for new data. After data is uploaded it is needed to call mark media as uploaded function. */\n  dataUploadURL: ?string;\n  /** If media represents any space then its MUID is present */\n  representedSpaceMUID: ?string;\n\n  constructor() {\n    this.state = entityStates.visible;\n  }\n\n  /**\n   * Sets embedData (binary format) from base64 format\n   *\n   * @param string base64: Base64 encoded data\n   */\n  setEmbedDataFromBase64(base64: string) {\n    let binaryString = window.atob(base64);\n    let length = binaryString.length;\n    let bytes = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    this.embededData = bytes.buffer;\n  }\n\n  /**\n   * Sets embedData (binary format) from ANSCI ancoded text\n   *\n   * @param string value: ANSCII encoded data\n   */\n  setEmbedDataFromString(value: string) {\n    let length = value.length;\n    let array = new Uint8Array(length);\n    for (let index = 0; index < length; index++) {\n      array[index] = value.charCodeAt(index);\n    }\n    this.embededData = array.buffer;\n  }\n\n  /**\n   * Converts emebedData into base64 encoded string\n   *\n   * @returns string Base64 encoded embedData\n   */\n  base64EmbedData(): ?string {\n    if (this.embededData == null) {\n      return null;\n    }\n    let binary = '';\n    let bytes = new Uint8Array(this.embededData);\n    let len = bytes.byteLength;\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return window.btoa(binary);\n  }\n\n  /**\n   * Converts utf8 encoded emebedData into string\n   *\n   * @returns string Decoded text\n   */\n  textualEmbedData(): ?string {\n    if (this.embededData == null) {\n      return null;\n    }\n    let encoded = this.base64EmbedData();\n    let bytes = base64.decode(encoded);\n    let text = utf8.decode(bytes);\n    return text;\n  }\n\n  fromJSON(json: Object) {\n    this.MUID = json.muid;\n    if (json.created_at != null) {\n      this.createdAt = new Date(json.created_at);\n    }\n    if (json.updated_at != null) {\n      this.updatedAt = new Date(json.updated_at);\n    }\n    this.state = json.state;\n    this.ownerID = json.owner_id;\n    this.metadata = json.metadata;\n    this.mediaType = json.tag;\n    this.dataState = json.data_state;\n    if (json.embeded_data != null) {\n      this.setEmbedDataFromBase64(json.embeded_data);\n    } else {\n      this.embededData = null;\n    }\n    this.dataDownloadURL = json.data_download_url;\n    this.dataUploadURL = json.data_upload_url;\n    this.representedSpaceMUID = json.represented_space_muid;\n  }\n\n  toJSON(): Object {\n    let json: any = {};\n    json.muid = this.MUID;\n    if (this.createdAt != null) {\n      json.created_at = this.createdAt.toISOString();\n    }\n    if (this.updatedAt != null) {\n      json.updated_at = this.updatedAt.toISOString();\n    }\n    json.state = this.state;\n    json.owner_id = this.ownerID;\n    json.metadata = this.metadata;\n    json.tag = this.mediaType;\n    json.data_state = this.dataState;\n    json.embeded_data = this.base64EmbedData();\n    json.data_download_url = this.dataDownloadURL;\n    json.data_upload_url = this.dataUploadURL;\n    json.represented_space_muid = this.representedSpaceMUID;\n    return json;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Media.js\n **/","// @flow\n\n/** Entity visiblity state */\nexport type EntityState = number;\nexport const entityStates = {\n  /** Entity us visible to user */\n  visible: 0,\n  /** Entity is trashed and will be deleted soon */\n  deleted: 1\n};\n\n/** Environment of SDK */\nexport type EnvironmentType = number;\nexport const environmentTypes = {\n  /** Production */\n  production: 0,\n  /** Staging (internal use only) */\n  stage: 1,\n  /** Local (internal use only) */\n  local: 2\n};\n\n/** Configuration of SDK */\nexport type Configuration = {\n  /** App (developer) token */\n  appToken: string,\n  /** SDK environment */\n  environment: EnvironmentType,\n  url: ?string\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Types.js\n **/","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-64/base64.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 7\n ** module chunks = 0\n **/","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.1.2',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/utf8/utf8.js\n ** module id = 8\n ** module chunks = 0\n **/","// @flow\n\nimport Media from './Media.js';\n\n/** Class represents user of Memex */\nexport default class User {\n\n  /** Unique user ID */\n  ID: ?number;\n  /** Creation timestamp */\n  createdAt: ?Date;\n  /** Timestamp of last update */\n  updatedAt: ?Date;\n  /** Fullname of user in format FirstName LastName */\n  fullname: ?string;\n  /** Email of user (unique) */\n  email: ?string;\n  /** Users password */\n  password: ?string;\n  /** Avatar */\n  avatar: ?Media;\n  /** MUID of users origin space (root, entry point) */\n  originSpaceMUID: ?string;\n  /** Flag that tells if user set his password or he can be only authenticated using onboarding token */\n  hasPassword: ?bool;\n  /** Flag that tells if user has enabled advanced features. This will be in future replaced with full feature flags set. */\n  advanced: ?bool;\n\n  constructor() {\n  }\n\n  fromJSON(json: Object) {\n    this.ID = json.id;\n    if (json.created_at != null) {\n      this.createdAt = new Date(json.created_at);\n    }\n    if (json.updated_at != null) {\n      this.updatedAt = new Date(json.updated_at);\n    }\n    this.fullname = json.fullname;\n    this.email = json.email;\n    this.password = json.password;\n    this.avatar = json.avatar;\n    this.originSpaceMUID = json.origin_space_muid;\n    this.hasPassword = json.has_password;\n    this.advanced = json.advanced;\n  }\n\n  toJSON(): Object {\n    let json: any = {};\n    if (this.createdAt != null) {\n      json.created_at = this.createdAt.toISOString();\n    }\n    if (this.updatedAt != null) {\n      json.updated_at = this.updatedAt.toISOString();\n    }\n    json.fullname = this.fullname;\n    json.email = this.email;\n    json.password = this.password;\n    json.avatar = this.avatar;\n    json.origin_space_muid = this.originSpaceMUID;\n    json.has_password = this.hasPassword;\n    json.advanced = this.advanced;\n    if (this.avatar != null) {\n      json.avatar_muid = this.avatar.MUID;\n    }\n    return json;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/User.js\n **/","// @flow\n\nimport Media from './Media.js';\nimport type { MediaType } from './Media.js';\nimport type { EntityState } from './Types.js';\nimport { entityStates } from './Types.js';\n\n/** Defines known space types */\nexport type SpaceType = string;\nexport const spaceTypes = {\n  /** Origin is simillar to collection but defines entry point into users spaces (root) */\n  origin: 'com.memex.origin',\n  /** Collection of links to spaces */\n  collection: 'com.memex.media.collection',\n  /** Space that represents web link */\n  webPage: 'com.memex.media.webpage',\n  /** Graphical kind of space */\n  image: 'com.memex.media.image',\n  /** Textual kind of space */\n  text: 'com.memex.media.text'\n};\n\n/** Defines space processing modes */\nexport type SpaceProcessingMode = string;\nexport const spaceProcessingModes = {\n  /** Don't process */\n  no: 'no',\n  /** Wait for results */\n  sync: 'sync',\n  /** Dont wait for results */\n  async: 'async',\n};\n\n/** Class represents space (abstraction for linked spaces) */\nexport default class Space {\n\n  /** Unique identifier */\n  MUID: ?string;\n  /** Creation timestamp */\n  createdAt: ?Date;\n  /** Timestamp of last update */\n  updatedAt: ?Date;\n  /** Timestamp of last visit */\n  visitedAt: ?Date;\n  /** Visibility state */\n  state: EntityState;\n  /** Owner user ID */\n  ownerID: ?number;\n  /** Type (eg. com.memex.media.collection, etc.) */\n  spaceType: SpaceType;\n  /** Caption */\n  caption: ?string;\n  /** Tint color */\n  color: ?string;\n  /** Set of media that represents space (eg webpage space is represented by url, thumbnail, summary) */\n  representations: ?Array<Media>;\n  /** Unread flag (if user needs to be notified about changes)*/\n  unread: bool;\n\n  constructor() {\n    this.state = entityStates.visible;\n    this.spaceType = spaceTypes.collection;\n    this.representations = [];\n    this.unread = false;\n  }\n\n  /**\n   * Returns visible representation of specified type\n   *\n   * @param MediaType mediaType: Type of media/representation\n   * @returns Media: Returns found media (null if not found)\n   */\n  getRepresentation(mediaType: MediaType): ?Media {\n    if (this.representations == null) {\n      return null;\n    }\n    for (let media of this.representations) {\n      if (media.mediaType === mediaType && media.state === entityStates.visible) {\n        return media;\n      }\n    }\n    return null;\n  }\n\n  fromJSON(json: Object) {\n    this.MUID = json.muid;\n    if (json.created_at != null) {\n      this.createdAt = new Date(json.created_at);\n    }\n    if (json.updated_at != null) {\n      this.updatedAt = new Date(json.updated_at);\n    }\n    if (json.visited_at != null) {\n      this.visitedAt = new Date(json.visited_at);\n    }\n    this.state = json.state;\n    this.ownerID = json.owner_id;\n    this.spaceType = json.type_identifier;\n    this.caption = json.caption;\n    this.color = json.color;\n    if (json.representations != null) {\n      this.representations = json.representations.map(function(json: Object): Media {\n        let media = new Media();\n        media.fromJSON(json);\n        return media;\n      });\n    } else {\n      this.representations = null;\n    }\n    this.unread = json.unread || false;\n  }\n\n  toJSON(): Object {\n    let json: any = {};\n    json.muid = this.MUID;\n    if (this.createdAt != null) {\n      json.created_at = this.createdAt.toISOString();\n    }\n    if (this.updatedAt != null) {\n      json.updated_at = this.updatedAt.toISOString();\n    }\n    if (this.visitedAt != null) {\n      json.visited_at = this.visitedAt.toISOString();\n    }\n    json.state =  this.state;\n    json.owner_id = this.ownerID;\n    json.type_identifier = this.spaceType;\n    json.caption = this.caption;\n    json.color = this.color;\n    if (this.representations != null) {\n      json.representations = this.representations.map(function(media: Media): Object {\n        return media.toJSON();\n      });\n    }\n    return json;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Space.js\n **/","// @flow\n\nimport Media from './Media.js';\nimport type { MediaType } from './Media.js';\nimport type { EntityState } from './Types.js';\nimport { entityStates } from './Types.js';\n\n/** Class represents space visit */\nexport default class SpaceVisit {\n\n  /** Unique identifier */\n  MUID: ?string;\n  /** Timestamp of last visit */\n  visitedAt: ?Date;\n\n  constructor() {\n  }\n\n  toJSON(): Object {\n    let json: any = {};\n    json.muid = this.MUID;\n    if (this.visitedAt != null) {\n      json.visited_at = this.visitedAt.toISOString();\n    }\n    return json;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/SpaceVisit.js\n **/","// @flow\n\nimport type { EntityState } from './Types.js';\nimport { entityStates } from './Types.js';\nimport Space from './Space.js';\n\n/** Class represents link between two spaces. */\nexport default class Link {\n\n  /** Unique identifier */\n  MUID: ?string;\n  /** Creation timestamp */\n  createdAt: ?Date;\n  /** Timestamp of last update */\n  updatedAt: ?Date;\n  /** Visibility state */\n  state: EntityState;\n  /** Owner user ID */\n  ownerID: ?number;\n  /** Index that is used for sorting of links in space */\n  order: ?number;\n  /** Origin space */\n  origin: Space;\n  /** Target space */\n  target: Space;\n\n  constructor() {\n    this.state = entityStates.visible;\n  }\n\n  fromJSON(json: Object) {\n    this.MUID = json.muid;\n    if (json.created_at != null) {\n      this.createdAt = new Date(json.created_at);\n    }\n    if (json.updated_at != null) {\n      this.updatedAt = new Date(json.updated_at);\n    }\n    this.state = json.state;\n    this.ownerID = json.owner_id;\n    this.order = json.order;\n    if (json.origin_space_muid != null) {\n      this.origin = new Space();\n      this.origin.MUID = json.origin_space_muid;\n    }\n    if (json.target_space_muid != null) {\n      this.target = new Space();\n      this.target.MUID = json.target_space_muid;\n    }\n    if (json.target_space != null) {\n      this.target = new Space();\n      this.target.fromJSON(json.target_space);\n    }\n  }\n\n  toJSON(): Object {\n    let json: any = {};\n    json.muid = this.MUID;\n    if (this.createdAt != null) {\n      json.created_at = this.createdAt.toISOString();\n    }\n    if (this.updatedAt != null) {\n      json.updated_at = this.updatedAt.toISOString();\n    }\n    json.state = this.state;\n    json.owner_id = this.ownerID;\n    json.order = this.order;\n    if (this.target != null) {\n      json.target_space_muid = this.target.MUID;\n    }\n    if (this.origin != null) {\n      json.target_space_muid = this.origin.MUID;\n    }\n    return json;\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Link.js\n **/","// @flow\n\n/** Approval state of app  */\nexport type AppState = number;\nexport const appStates = {\n  /** App is new and review wasn't requested yet */\n  new: 0,\n  /** Appr review is requested */\n  requested: 1,\n  /** App was approved and will get higher limits */\n  approved: 2,\n  /** App was rejected by reviewer */\n  rejected: 3,\n  /** App was blocked by admin */\n  blocked: 4\n};\n\n/** Platform/language of SDK */\nexport type AppPlatform = number;\nexport const appPlatforms = {\n  /** Native REST API */\n  rest: 0,\n  /** Swift */\n  swift: 1,\n  /** JavaScript */\n  javaScript: 2,\n  /** Go */\n  golang: 3\n};\n\n/** Class representing app. */\nexport default class App {\n\n  /** Unique identifier */\n  id: number;\n  /** Name of app */\n  name: ?string;\n  /** Secription of app (is used in review process) */\n  description: ?string;\n  /** Developer contact email */\n  email: ?string;\n  /** App product page */\n  webpage: ?string;\n  /** App token (is sent with every request in X-App-Token HTTP header) */\n  token: ?string;\n  /** Approval state of the app */\n  state: ?AppState;\n  /** Default plaform for the app. App can be used from any other platform. This value is used only for suggestion of SDK. */\n  platform: ?AppPlatform;\n\n  constructor() {\n  }\n\n  fromJSON(json: Object) {\n    this.id = json.id;\n    this.name = json.name;\n    this.description = json.description;\n    this.email = json.email;\n    this.webpage = json.webpage;\n    this.token = json.token;\n    this.state = json.state;\n    this.platform = json.platform;\n  }\n\n  toJSON(): Object {\n    return {\n      name: this.name,\n      description: this.description,\n      email: this.email,\n      webpage: this.webpage,\n      platform: this.platform,\n    };\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/App.js\n **/"],"sourceRoot":""}