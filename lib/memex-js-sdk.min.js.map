{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///memex-js-sdk.min.js","webpack:///webpack/bootstrap 34fc7c7ec4ade54b01d2","webpack:///./src/Exports.js","webpack:///./src/Spaces.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/Auth.js","webpack:///./src/data/Media.js","webpack:///./src/data/Types.js","webpack:///./~/base-64/base64.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/utf8/utf8.js","webpack:///./src/data/Space.js","webpack:///./src/data/Link.js","webpack:///./src/data/App.js","webpack:///./src/Configuration.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_Spaces","_Configuration","_Media","_Media2","_Space","_Space2","_Link","_Link2","_App","_App2","_Types","Memex","sharedClient","Spaces","environmentTypes","mediaTypes","spaceTypes","mediaDataStates","Media","Space","Link","App","_classCallCheck","instance","Constructor","TypeError","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Auth","methods","GET","POST","_configuration","appToken","environment","production","_setEnvironment","console","error","token","_auth","Auth","_APIURL","stage","localhost","_isConfigured","isAuthorized","email","password","completion","login","deauthorize","tag","autodump","space","tagLabel","tagColor","spaceType","collection","representations","createSpace","imageURL","media","dataDownloadURL","dataState","dataValid","mediaType","source","image","url","setEmbedDataFromString","reference","webPage","text","body","toJSON","process","_perform","json","success","fromJSON","spaceMUID","path","query","includeTarget","links","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","item","link","push","err","apps","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","app","newApp","appID","method","options","JSON","stringify","headers","Content-Type","X-App-Token","userToken","host","resultQuery","keys","queryString","reduce","array","encodeURIComponent","join","fetch","then","response","status","data","self","normalizeName","name","String","test","toLowerCase","normalizeValue","iteratorFor","items","shift","support","iterable","Headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","bufferClone","slice","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","toString","arrayBuffer","isDataView","_bodyArrayBuffer","ArrayBuffer","isArrayBufferView","Error","get","type","rejected","decode","parse","normalizeMethod","upcased","toUpperCase","indexOf","Request","input","credentials","mode","referrer","form","trim","split","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","line","parts","Response","bodyInit","ok","statusText","e","viewClasses","DataView","isView","oldValue","has","hasOwnProperty","callback","thisArg","values","entries","clone","redirectStatuses","redirect","RangeError","location","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","tokenKey","_host","_loadFromStorage","localStorage","getItem","setItem","removeItem","_storeIntoStorage","_this","identity","secret","_base","_base2","_utf","_utf2","state","entityStates","unknown","base64","binaryString","window","atob","charCodeAt","embedData","index","binary","len","btoa","encoded","base64EmbedData","muid","data_state","embeded_data","setEmbedDataFromBase64","data_download_url","origin","spaceProcessingStates","scheduled","preview","summary","waitingForNewUploadURL","readyForDataUpload","visible","deleted","appStates","new","requested","approved","__WEBPACK_AMD_DEFINE_RESULT__","global","freeExports","freeGlobal","InvalidCharacterError","message","TABLE","REGEX_SPACE_CHARACTERS","bitStorage","bitCounter","output","position","charAt","encode","a","b","padding","version","webpackPolyfill","deprecate","paths","children","ucs2decode","string","extra","counter","ucs2encode","stringFromCharCode","checkScalarValue","codePoint","createByte","encodeCodePoint","symbol","utf8encode","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","utf8decode","tmp","utf8","unread","tag_label","tag_color","type_identifier","order","origin_space_muid","target_space_muid","target_space","description","webpage"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,kBAAAH,GACA,gBAAAC,SACAA,QAAA,gBAAAD,IAEAD,EAAA,gBAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASL,EAAQD,EAASM,GAE/B,YA4BA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GA1BvFG,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GEzDV,IAAAC,GAAAhB,EAAA,GACAiB,EAAAjB,EAAA,IACAkB,EAAAlB,EAAA,GFgEKmB,EAAUV,EAAuBS,GE/DtCE,EAAApB,EAAA,GFmEKqB,EAAUZ,EAAuBW,GElEtCE,EAAAtB,EAAA,IFsEKuB,EAASd,EAAuBa,GErErCE,EAAAxB,EAAA,IFyEKyB,EAAQhB,EAAuBe,GExEpCE,EAAA1B,EAAA,GAEI2B,GACFC,aAAc,GAAAZ,GAAAa,OACdC,oCACAC,wBACAC,wBACAC,kCACAC,mBACAC,mBACAC,kBACAC,iBF+ED3C,cE5EciC,EF6EdhC,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAiCA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAAS4B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAjChH5B,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,IAETrB,EAAQmC,OAASa,MAEjB,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMvC,OAAOC,eAAe+B,EAAQI,EAAWI,IAAKJ,IAAiB,MAAO,UAAUT,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBJ,EAAYgB,UAAWF,GAAiBC,GAAaX,EAAiBJ,EAAae,GAAqBf,KG9GjiBxC,GAAA,EAEA,IAAAyD,GAAAzD,EAAA,GAEAkB,EAAAlB,EAAA,GHkHKmB,EAAUV,EAAuBS,GGjHtCE,EAAApB,EAAA,GHqHKqB,EAAUZ,EAAuBW,GGpHtCE,EAAAtB,EAAA,IHwHKuB,EAASd,EAAuBa,GGvHrCE,EAAAxB,EAAA,IH2HKyB,EAAQhB,EAAuBe,GG1HpCE,EAAA1B,EAAA,GAEAiB,EAAAjB,EAAA,IAEM0D,GACJC,IAAK,MACLC,KAAM,OHmIMlE,GG/HDmC,OH+HkB,WG1H7B,QAAAA,KAAcS,EAAAxC,KAAA+B,GACZ/B,KAAK+D,gBACHC,SAAU,GACVC,YAAa9C,EAAAa,iBAAiBkC,YAEhClE,KAAKmE,gBAAgBhD,EAAAa,iBAAiBkC,YHkdvC,MAlVArB,GAAad,IACXwB,IAAK,gBACLtC,MAAO,WG9HR,MAAqC,KAAjCjB,KAAK+D,eAAeC,WACtBI,QAAQC,MAAM,mFACP,MHoIRd,IAAK,cACLtC,MAAO,SGhIEqD,GACVtE,KAAK+D,eAAeC,SAAWM,EAC/BtE,KAAKuE,MAAMP,SAAWM,KHmIrBf,IAAK,kBACLtC,MAAO,SGjIMgD,GACdjE,KAAK+D,eAAeE,YAAcA,EAClCjE,KAAKuE,MAAQ,GAAAZ,GAAAa,KAASxE,KAAKyE,QAAQR,IACnCjE,KAAKuE,MAAMP,SAAWhE,KAAK+D,eAAeC,YHoIzCT,IAAK,UACLtC,MAAO,SGlIFgD,GACN,OAAQA,GACN,IAAK9C,GAAAa,iBAAiBkC,WACpB,MAAO,2CACT,KAAK/C,GAAAa,iBAAiB0C,MACpB,MAAO,4CACT,KAAKvD,GAAAa,iBAAiB2C,UACpB,MAAO,uBACT,SAEE,MADAP,SAAQC,MAAM,uBACP,OHsIVd,IAAK,aACLtC,MAAO,WGlIR,QAAKjB,KAAK4E,iBAGH5E,KAAKuE,MAAMM,kBHsIjBtB,IAAK,QACLtC,MAAO,SGpIJ6D,EAAeC,EAAkBC,GAChChF,KAAK4E,iBAGV5E,KAAKuE,MAAMU,MAAMH,EAAOC,EAAUC,MHuIjCzB,IAAK,SACLtC,MAAO,WGpIHjB,KAAK4E,iBAGV5E,KAAKuE,MAAMW,iBHwIV3B,IAAK,wBACLtC,MAAO,SGtIYkE,EAAaC,EAAgBJ,GACjD,GAAIK,GAAQ,GAAA9D,aACZ8D,GAAMC,SAAWH,EACjBE,EAAME,SAAW,KACjBF,EAAMG,UAAY5D,EAAAM,WAAWuD,WAC7BJ,EAAMK,mBACN1F,KAAK2F,YAAYN,EAAOD,EAAUJ,MHyIjCzB,IAAK,mBACLtC,MAAO,SGvIO2E,EAAkBR,EAAgBJ,GACjD,GAAIa,GAAQ,GAAAxE,aACZwE,GAAMC,gBAAkBF,EACxBC,EAAME,UAAYnE,EAAAO,gBAAgB6D,UAClCH,EAAMI,UAAYrE,EAAAK,WAAWiE,MAE7B,IAAIb,GAAQ,GAAA9D,aACZ8D,GAAMG,UAAY5D,EAAAM,WAAWiE,MAC7Bd,EAAMK,iBAAmBG,GAEzB7F,KAAK2F,YAAYN,EAAOD,EAAUJ,MH0IjCzB,IAAK,qBACLtC,MAAO,SGxISmF,EAAahB,EAAgBJ,GAC9C,GAAIa,GAAQ,GAAAxE,aACZwE,GAAMQ,uBAAuBD,GAC7BP,EAAME,UAAYnE,EAAAO,gBAAgB6D,UAClCH,EAAMI,UAAYrE,EAAAK,WAAWqE,SAE7B,IAAIjB,GAAQ,GAAA9D,aACZ8D,GAAMG,UAAY5D,EAAAM,WAAWqE,QAC7BlB,EAAMK,iBAAmBG,GAEzB7F,KAAK2F,YAAYN,EAAOD,EAAUJ,MH2IjCzB,IAAK,kBACLtC,MAAO,SGzIMuF,EAAcpB,EAAgBJ,GAC5C,GAAIa,GAAQ,GAAAxE,aACZwE,GAAMQ,uBAAuBG,GAC7BX,EAAME,UAAYnE,EAAAO,gBAAgB6D,UAClCH,EAAMI,UAAYrE,EAAAK,WAAWiE,MAE7B,IAAIb,GAAQ,GAAA9D,aACZ8D,GAAMG,UAAY5D,EAAAM,WAAWsE,KAC7BnB,EAAMK,iBAAmBG,GAEzB7F,KAAK2F,YAAYN,EAAOD,EAAUJ,MH4IjCzB,IAAK,cACLtC,MAAO,SG1IEoE,EAAcD,EAAgBJ,GACxC,GAAIyB,IACFpB,MAAOA,EAAMqB,SACbC,QAAS,OACTvB,SAAUA,EAEZpF,MAAK4G,SAAShD,EAAQE,KAAM,SAAU,KAAM2C,EAAM,SAACI,EAAeC,GAChE,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIK,GAAQ,GAAA9D,aACZ8D,GAAM0B,SAASF,EAAKxB,OACpBL,EAAWK,GAAO,QH8InB9B,IAAK,gBACLtC,MAAO,SG3II+F,EAAmBhC,GAC/B,GAAIiC,GAAO,UAAUD,EAAU,SAC3BE,GACFC,eAAe,EAEjBnH,MAAK4G,SAAShD,EAAQC,IAAKoD,EAAMC,EAAO,KAAM,SAACL,EAAeC,GAC5D,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIoC,MAL0EC,GAAA,EAAAC,GAAA,EAAAC,EAAA3E,MAAA,KAM9E,OAAA4E,GAAAC,EAAiBZ,EAAKO,MAAtBM,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA6B,IAApBS,GAAoBN,EAAAvG,MACvB8G,EAAO,GAAAtG,aACXsG,GAAKhB,SAASe,GACdV,EAAMY,KAAKD,IATiE,MAAAE,GAAAX,GAAA,EAAAC,EAAAU,EAAA,aAAAZ,GAAAI,2BAAA,WAAAH,EAAA,KAAAC,IAW9EvC,EAAWoC,GAAO,QHqKnB7D,IAAK,WACLtC,MAAO,SGlKD+F,EAAmBhC,GAC1BhF,KAAK4G,SACHhD,EAAQC,IACR,UAAUmD,EACV,KACA,KACA,SAACH,EAAeC,GACd,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIK,GAAQ,GAAA9D,aACZ8D,GAAM0B,SAASF,EAAKxB,OACpBL,EAAWK,GAAO,QHiKrB9B,IAAK,UACLtC,MAAO,SG9JF+D,GACN,GAAIiC,GAAO,MACXjH,MAAK4G,SAAShD,EAAQC,IAAKoD,KAAU,KAAM,SAACJ,EAAeC,GACzD,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIkD,MALuEC,GAAA,EAAAC,GAAA,EAAAC,EAAAzF,MAAA,KAM3E,OAAA0F,GAAAC,EAAiB1B,EAAKqB,KAAtBR,OAAAC,cAAAQ,GAAAG,EAAAC,EAAAX,QAAAC,MAAAM,GAAA,EAA4B,IAAnBL,GAAmBQ,EAAArH,MACtBuH,EAAM,GAAA7G,aACV6G,GAAIzB,SAASe,GACbI,EAAKF,KAAKQ,IAT+D,MAAAP,GAAAG,GAAA,EAAAC,EAAAJ,EAAA,aAAAE,GAAAI,2BAAA,WAAAH,EAAA,KAAAC,IAW3ErD,EAAWkD,GAAM,QHwLlB3E,IAAK,YACLtC,MAAO,SGrLAuH,EAAUxD,GAClB,GAAIyB,IACF+B,IAAKA,EAAI9B,SAEX1G,MAAK4G,SAAShD,EAAQE,KAAM,OAAQ,KAAM2C,EAAM,SAACI,EAAeC,GAC9D,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIyD,GAAS,GAAA9G,aACb8G,GAAO1B,SAASF,EAAK2B,KACrBxD,EAAWyD,GAAQ,QHyLpBlF,IAAK,YACLtC,MAAO,SGtLAuH,EAAUxD,GAClB,GAAe,OAAXwD,EAAInI,GAGN,MAFA+D,SAAQC,MAAM,sBACdW,GAAW,MAAM,EAGnB,IAAIyB,IACF+B,IAAKA,EAAI9B,SAEX1G,MAAK4G,SAAShD,EAAQE,KAAM,QAAQ0E,EAAInI,GAAI,KAAMoG,EAAM,SAACI,EAAeC,GACtE,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIyD,GAAS,GAAA9G,aACb8G,GAAO1B,SAASF,EAAK2B,KACrBxD,EAAWyD,GAAQ,QH0LpBlF,IAAK,gBACLtC,MAAO,SGvLIyH,EAAe1D,GAC3BhF,KAAK4G,SAAShD,EAAQE,KAAM,QAAQ4E,EAAM,eAAgB,QAAU,SAAC7B,EAAeC,GAClF,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIyD,GAAS,GAAA9G,aACb8G,GAAO1B,SAASF,EAAK2B,KACrBxD,EAAWyD,GAAQ,QH2LpBlF,IAAK,SACLtC,MAAO,SGxLHZ,EAAY2E,GACjBhF,KAAK4G,SAAShD,EAAQC,IAAK,QAAQxD,EAAI,KAAM,KAAM,SAACwG,EAAeC,GACjE,GAAIA,KAAY,GAAiB,MAARD,EAEvB,WADA7B,GAAW,MAAM,EAGnB,IAAIyD,GAAS,GAAA9G,aACb8G,GAAO1B,SAASF,EAAK2B,KACrBxD,EAAWyD,GAAQ,QH4LpBlF,IAAK,WACLtC,MAAO,SGzLD0H,EAAgB1B,EAAcC,EAAgBT,EAAezB,GACpE,GAAKhF,KAAK4E,gBAAV,CAGA,GAAIgE,IACFD,OAAQA,EACRlC,KAAc,MAARA,EAAeoC,KAAKC,UAAUrC,GAAQ,KAC5CsC,SACEC,eAAgB,mBAChBC,cAAejJ,KAAK+D,eAAeC,UAGX,OAAxBhE,KAAKuE,MAAM2E,YACbN,EAAQG,QAAQ,gBAAkB/I,KAAKuE,MAAM2E,UAE/C,IAAIC,GAAOnJ,KAAKyE,QAAQzE,KAAK+D,eAAeE,aACxCmC,EAAM+C,EAAO,IAAMlC,EACnBmC,EAAclC,CAClB,IAAmB,MAAfkC,EAAqB,CACvB,GAAIC,GAAOtI,OAAOsI,KAAKD,GACnBE,EAAcD,EAAKE,OAAO,SAASC,EAAsBjG,GAC3D,GAAmB,MAAf6F,EACF,MAAOI,EAET,IAAIvI,GAAQmI,EAAY7F,EAExB,OADAiG,GAAMxB,KAAKzE,EAAI,IAAIkG,mBAAmBxI,IAC/BuI,OACFE,KAAK,IACZtD,IAAO,IAAMkD,EAEfK,MAAMvD,EAAKwC,GACRgB,KAAK,SAACC,GACL,GAAIA,EAASC,OAAS,KAAOD,EAASC,QAAU,IAC9C,KAAMD,EAEN,OAAOA,KAGVD,KAAK,SAACG,GACL,MAAOA,GAAKlD,SAEb+C,KAAK,SAACC,GACL7E,EAAW6E,GAAU,IAEvB,SAACxF,GACCW,EAAW,MAAM,UH0LfjD,MAKJ,SAASlC,EAAQD,IIrfvB,SAAAoK,GACA,YA2CA,SAAAC,GAAAC,GAIA,GAHA,gBAAAA,KACAA,EAAAC,OAAAD,IAEA,6BAAAE,KAAAF,GACA,SAAAvH,WAAA,yCAEA,OAAAuH,GAAAG,cAGA,QAAAC,GAAArJ,GAIA,MAHA,gBAAAA,KACAA,EAAAkJ,OAAAlJ,IAEAA,EAIA,QAAAsJ,GAAAC,GACA,GAAA7C,IACAC,KAAA,WACA,GAAA3G,GAAAuJ,EAAAC,OACA,QAAgB5C,KAAAjF,SAAA3B,YAUhB,OANAyJ,GAAAC,WACAhD,EAAAD,OAAAC,UAAA,WACA,MAAAA,KAIAA,EAGA,QAAAiD,GAAA7B,GACA/I,KAAA6K,OAEA9B,YAAA6B,GACA7B,EAAA+B,QAAA,SAAA7J,EAAAiJ,GACAlK,KAAA+K,OAAAb,EAAAjJ,IACOjB,MACFgL,MAAAC,QAAAlC,GACLA,EAAA+B,QAAA,SAAAI,GACAlL,KAAA+K,OAAAG,EAAA,GAAAA,EAAA,KACOlL,MACF+I,GACLhI,OAAAoK,oBAAApC,GAAA+B,QAAA,SAAAZ,GACAlK,KAAA+K,OAAAb,EAAAnB,EAAAmB,KACOlK,MA0DP,QAAAoL,GAAA3E,GACA,MAAAA,GAAA4E,SACAC,QAAAC,OAAA,GAAA5I,WAAA,sBAEA8D,EAAA4E,UAAA,GAGA,QAAAG,GAAAC,GACA,UAAAH,SAAA,SAAAI,EAAAH,GACAE,EAAAE,OAAA,WACAD,EAAAD,EAAAG,SAEAH,EAAAI,QAAA,WACAN,EAAAE,EAAApH,UAKA,QAAAyH,GAAAC,GACA,GAAAN,GAAA,GAAAO,YACAC,EAAAT,EAAAC,EAEA,OADAA,GAAAS,kBAAAH,GACAE,EAGA,QAAAE,GAAAJ,GACA,GAAAN,GAAA,GAAAO,YACAC,EAAAT,EAAAC,EAEA,OADAA,GAAAW,WAAAL,GACAE,EAGA,QAAAI,GAAAC,GAIA,OAHAC,GAAA,GAAAC,YAAAF,GACAG,EAAA,GAAAzB,OAAAuB,EAAArJ,QAEAD,EAAA,EAAmBA,EAAAsJ,EAAArJ,OAAiBD,IACpCwJ,EAAAxJ,GAAAkH,OAAAuC,aAAAH,EAAAtJ,GAEA,OAAAwJ,GAAA/C,KAAA,IAGA,QAAAiD,GAAAL,GACA,GAAAA,EAAAM,MACA,MAAAN,GAAAM,MAAA,EAEA,IAAAL,GAAA,GAAAC,YAAAF,EAAAO,WAEA,OADAN,GAAAO,IAAA,GAAAN,YAAAF,IACAC,EAAAQ,OAIA,QAAAC,KA0FA,MAzFAhN,MAAAqL,UAAA,EAEArL,KAAAiN,UAAA,SAAAxG,GAEA,GADAzG,KAAAkN,UAAAzG,EACAA,EAEO,mBAAAA,GACPzG,KAAAmN,UAAA1G,MACO,IAAAiE,EAAAqB,MAAAqB,KAAA1J,UAAA2J,cAAA5G,GACPzG,KAAAsN,UAAA7G,MACO,IAAAiE,EAAA6C,UAAAC,SAAA9J,UAAA2J,cAAA5G,GACPzG,KAAAyN,cAAAhH,MACO,IAAAiE,EAAAgD,cAAAC,gBAAAjK,UAAA2J,cAAA5G,GACPzG,KAAAmN,UAAA1G,EAAAmH,eACO,IAAAlD,EAAAmD,aAAAnD,EAAAqB,MAAA+B,EAAArH,GACPzG,KAAA+N,iBAAApB,EAAAlG,EAAAsG,QAEA/M,KAAAkN,UAAA,GAAAE,OAAApN,KAAA+N,uBACO,KAAArD,EAAAmD,cAAAG,YAAAtK,UAAA2J,cAAA5G,KAAAwH,EAAAxH,GAGP,SAAAyH,OAAA,4BAFAlO,MAAA+N,iBAAApB,EAAAlG,OAdAzG,MAAAmN,UAAA,EAmBAnN,MAAA+I,QAAAoF,IAAA,kBACA,gBAAA1H,GACAzG,KAAA+I,QAAA+D,IAAA,2CACS9M,KAAAsN,WAAAtN,KAAAsN,UAAAc,KACTpO,KAAA+I,QAAA+D,IAAA,eAAA9M,KAAAsN,UAAAc,MACS1D,EAAAgD,cAAAC,gBAAAjK,UAAA2J,cAAA5G,IACTzG,KAAA+I,QAAA+D,IAAA,oEAKApC,EAAAqB,OACA/L,KAAA+L,KAAA,WACA,GAAAsC,GAAAjD,EAAApL,KACA,IAAAqO,EACA,MAAAA,EAGA,IAAArO,KAAAsN,UACA,MAAAhC,SAAAI,QAAA1L,KAAAsN,UACS,IAAAtN,KAAA+N,iBACT,MAAAzC,SAAAI,QAAA,GAAA0B,OAAApN,KAAA+N,mBACS,IAAA/N,KAAAyN,cACT,SAAAS,OAAA,uCAEA,OAAA5C,SAAAI,QAAA,GAAA0B,OAAApN,KAAAmN,cAIAnN,KAAA6N,YAAA,WACA,MAAA7N,MAAA+N,iBACA3C,EAAApL,OAAAsL,QAAAI,QAAA1L,KAAA+N,kBAEA/N,KAAA+L,OAAAnC,KAAAkC,KAKA9L,KAAAwG,KAAA,WACA,GAAA6H,GAAAjD,EAAApL,KACA,IAAAqO,EACA,MAAAA,EAGA,IAAArO,KAAAsN,UACA,MAAAnB,GAAAnM,KAAAsN,UACO,IAAAtN,KAAA+N,iBACP,MAAAzC,SAAAI,QAAAW,EAAArM,KAAA+N,kBACO,IAAA/N,KAAAyN,cACP,SAAAS,OAAA,uCAEA,OAAA5C,SAAAI,QAAA1L,KAAAmN,YAIAzC,EAAA6C,WACAvN,KAAAuN,SAAA,WACA,MAAAvN,MAAAwG,OAAAoD,KAAA0E,KAIAtO,KAAA6G,KAAA,WACA,MAAA7G,MAAAwG,OAAAoD,KAAAf,KAAA0F,QAGAvO,KAMA,QAAAwO,GAAA7F,GACA,GAAA8F,GAAA9F,EAAA+F,aACA,OAAA9K,GAAA+K,QAAAF,QAAA9F,EAGA,QAAAiG,GAAAC,EAAAjG,GACAA,OACA,IAAAnC,GAAAmC,EAAAnC,IAEA,IAAAoI,YAAAD,GAAA,CACA,GAAAC,EAAAxD,SACA,SAAA1I,WAAA,eAEA3C,MAAAoG,IAAAyI,EAAAzI,IACApG,KAAA8O,YAAAD,EAAAC,YACAlG,EAAAG,UACA/I,KAAA+I,QAAA,GAAA6B,GAAAiE,EAAA9F,UAEA/I,KAAA2I,OAAAkG,EAAAlG,OACA3I,KAAA+O,KAAAF,EAAAE,KACAtI,GAAA,MAAAoI,EAAA3B,YACAzG,EAAAoI,EAAA3B,UACA2B,EAAAxD,UAAA,OAGArL,MAAAoG,IAAA+D,OAAA0E,EAWA,IARA7O,KAAA8O,YAAAlG,EAAAkG,aAAA9O,KAAA8O,aAAA,QACAlG,EAAAG,SAAA/I,KAAA+I,UACA/I,KAAA+I,QAAA,GAAA6B,GAAAhC,EAAAG,UAEA/I,KAAA2I,OAAA6F,EAAA5F,EAAAD,QAAA3I,KAAA2I,QAAA,OACA3I,KAAA+O,KAAAnG,EAAAmG,MAAA/O,KAAA+O,MAAA,KACA/O,KAAAgP,SAAA,MAEA,QAAAhP,KAAA2I,QAAA,SAAA3I,KAAA2I,SAAAlC,EACA,SAAA9D,WAAA,4CAEA3C,MAAAiN,UAAAxG,GAOA,QAAA6H,GAAA7H,GACA,GAAAwI,GAAA,GAAAzB,SASA,OARA/G,GAAAyI,OAAAC,MAAA,KAAArE,QAAA,SAAAsE,GACA,GAAAA,EAAA,CACA,GAAAD,GAAAC,EAAAD,MAAA,KACAjF,EAAAiF,EAAA1E,QAAA4E,QAAA,WACApO,EAAAkO,EAAAzF,KAAA,KAAA2F,QAAA,UACAJ,GAAAlE,OAAAuE,mBAAApF,GAAAoF,mBAAArO,OAGAgO,EAGA,QAAAM,GAAAC,GACA,GAAAzG,GAAA,GAAA6B,EASA,OARA4E,GAAAL,MAAA,SAAArE,QAAA,SAAA2E,GACA,GAAAC,GAAAD,EAAAN,MAAA,KACA5L,EAAAmM,EAAAjF,QAAAyE,MACA,IAAA3L,EAAA,CACA,GAAAtC,GAAAyO,EAAAhG,KAAA,KAAAwF,MACAnG,GAAAgC,OAAAxH,EAAAtC,MAGA8H,EAKA,QAAA4G,GAAAC,EAAAhH,GACAA,IACAA,MAGA5I,KAAAoO,KAAA,UACApO,KAAA8J,OAAA,UAAAlB,KAAAkB,OAAA,IACA9J,KAAA6P,GAAA7P,KAAA8J,QAAA,KAAA9J,KAAA8J,OAAA,IACA9J,KAAA8P,WAAA,cAAAlH,KAAAkH,WAAA,KACA9P,KAAA+I,QAAA,GAAA6B,GAAAhC,EAAAG,SACA/I,KAAAoG,IAAAwC,EAAAxC,KAAA,GACApG,KAAAiN,UAAA2C,GA7XA,IAAA5F,EAAAL,MAAA,CAIA,GAAAe,IACAgD,aAAA,mBAAA1D,GACAW,SAAA,UAAAX,IAAA,YAAAtC,QACAqE,KAAA,cAAA/B,IAAA,QAAAA,IAAA,WACA,IAEA,MADA,IAAAoD,OACA,EACO,MAAA2C,GACP,aAGAxC,SAAA,YAAAvD,GACA6D,YAAA,eAAA7D,GAGA,IAAAU,EAAAmD,YACA,GAAAmC,IACA,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGAlC,EAAA,SAAAlN,GACA,MAAAA,IAAAqP,SAAAvM,UAAA2J,cAAAzM,IAGAqN,EAAAD,YAAAkC,QAAA,SAAAtP,GACA,MAAAA,IAAAoP,EAAArB,QAAA5N,OAAA2C,UAAAkK,SAAArN,KAAAK,OAyDAgK,GAAAlH,UAAAqH,OAAA,SAAAb,EAAAjJ,GACAiJ,EAAAD,EAAAC,GACAjJ,EAAAqJ,EAAArJ,EACA,IAAAkP,GAAAnQ,KAAA6K,IAAAX,EACAlK,MAAA6K,IAAAX,GAAAiG,IAAA,IAAAlP,KAGA2J,EAAAlH,UAAA,mBAAAwG,SACAlK,MAAA6K,IAAAZ,EAAAC,KAGAU,EAAAlH,UAAAyK,IAAA,SAAAjE,GAEA,MADAA,GAAAD,EAAAC,GACAlK,KAAAoQ,IAAAlG,GAAAlK,KAAA6K,IAAAX,GAAA,MAGAU,EAAAlH,UAAA0M,IAAA,SAAAlG,GACA,MAAAlK,MAAA6K,IAAAwF,eAAApG,EAAAC,KAGAU,EAAAlH,UAAAoJ,IAAA,SAAA5C,EAAAjJ,GACAjB,KAAA6K,IAAAZ,EAAAC,IAAAI,EAAArJ,IAGA2J,EAAAlH,UAAAoH,QAAA,SAAAwF,EAAAC,GACA,OAAArG,KAAAlK,MAAA6K,IACA7K,KAAA6K,IAAAwF,eAAAnG,IACAoG,EAAA/P,KAAAgQ,EAAAvQ,KAAA6K,IAAAX,KAAAlK,OAKA4K,EAAAlH,UAAA2F,KAAA,WACA,GAAAmB,KAEA,OADAxK,MAAA8K,QAAA,SAAA7J,EAAAiJ,GAAwCM,EAAAxC,KAAAkC,KACxCK,EAAAC,IAGAI,EAAAlH,UAAA8M,OAAA,WACA,GAAAhG,KAEA,OADAxK,MAAA8K,QAAA,SAAA7J,GAAkCuJ,EAAAxC,KAAA/G,KAClCsJ,EAAAC,IAGAI,EAAAlH,UAAA+M,QAAA,WACA,GAAAjG,KAEA,OADAxK,MAAA8K,QAAA,SAAA7J,EAAAiJ,GAAwCM,EAAAxC,MAAAkC,EAAAjJ,MACxCsJ,EAAAC,IAGAE,EAAAC,WACAC,EAAAlH,UAAAgE,OAAAC,UAAAiD,EAAAlH,UAAA+M,QAqJA,IAAA7M,IAAA,6CA4CAgL,GAAAlL,UAAAgN,MAAA,WACA,UAAA9B,GAAA5O,MAA8ByG,KAAAzG,KAAAkN,aA6B9BF,EAAAzM,KAAAqO,EAAAlL,WAgBAsJ,EAAAzM,KAAAoP,EAAAjM,WAEAiM,EAAAjM,UAAAgN,MAAA,WACA,UAAAf,GAAA3P,KAAAkN,WACApD,OAAA9J,KAAA8J,OACAgG,WAAA9P,KAAA8P,WACA/G,QAAA,GAAA6B,GAAA5K,KAAA+I,SACA3C,IAAApG,KAAAoG,OAIAuJ,EAAAtL,MAAA,WACA,GAAAwF,GAAA,GAAA8F,GAAA,MAAuC7F,OAAA,EAAAgG,WAAA,IAEvC,OADAjG,GAAAuE,KAAA,QACAvE,EAGA,IAAA8G,IAAA,oBAEAhB,GAAAiB,SAAA,SAAAxK,EAAA0D,GACA,GAAA6G,EAAAhC,QAAA7E,QACA,SAAA+G,YAAA,sBAGA,WAAAlB,GAAA,MAA+B7F,SAAAf,SAA0B+H,SAAA1K,MAGzD4D,EAAAY,UACAZ,EAAA4E,UACA5E,EAAA2F,WAEA3F,EAAAL,MAAA,SAAAkF,EAAAkC,GACA,UAAAzF,SAAA,SAAAI,EAAAH,GACA,GAAAyF,GAAA,GAAApC,GAAAC,EAAAkC,GACAE,EAAA,GAAAC,eAEAD,GAAAtF,OAAA,WACA,GAAA/C,IACAkB,OAAAmH,EAAAnH,OACAgG,WAAAmB,EAAAnB,WACA/G,QAAAwG,EAAA0B,EAAAE,yBAAA,IAEAvI,GAAAxC,IAAA,eAAA6K,KAAAG,YAAAxI,EAAAG,QAAAoF,IAAA,gBACA,IAAA1H,GAAA,YAAAwK,KAAApH,SAAAoH,EAAAI,YACA3F,GAAA,GAAAiE,GAAAlJ,EAAAmC,KAGAqI,EAAApF,QAAA,WACAN,EAAA,GAAA5I,WAAA,4BAGAsO,EAAAK,UAAA,WACA/F,EAAA,GAAA5I,WAAA,4BAGAsO,EAAAM,KAAAP,EAAArI,OAAAqI,EAAA5K,KAAA,GAEA,YAAA4K,EAAAlC,cACAmC,EAAAO,iBAAA,GAGA,gBAAAP,IAAAvG,EAAAqB,OACAkF,EAAAQ,aAAA,QAGAT,EAAAjI,QAAA+B,QAAA,SAAA7J,EAAAiJ,GACA+G,EAAAS,iBAAAxH,EAAAjJ,KAGAgQ,EAAAU,KAAA,mBAAAX,GAAA9D,UAAA,KAAA8D,EAAA9D,cAGAlD,EAAAL,MAAAiI,UAAA,IACC,mBAAA5H,WAAAhK,OJ4fK,SAASH,EAAQD,EAASM,GAE/B,YAWA,SAASsC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAThH5B,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,IAETrB,EAAQ4E,KAAO5B,MAEf,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMvC,OAAOC,eAAe+B,EAAQI,EAAWI,IAAKJ,IAAiB,MAAO,UAAUT,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBJ,EAAYgB,UAAWF,GAAiBC,GAAaX,EAAiBJ,EAAae,GAAqBf,KK/8BjiBxC,GAAA,EAQA,IAAM2R,GAAW,OL+8BLjS,GK78BC4E,KL68Bc,WKv8BzB,QAAAA,GAAY2E,GAAc3G,EAAAxC,KAAAwE,GACxBxE,KAAK8R,MAAQ3I,EACbnJ,KAAK+R,mBLmhCN,MAtEAlP,GAAa2B,IACXjB,IAAK,mBACLtC,MAAO,WK38BRjB,KAAKkJ,UAAY8I,aAAaC,QAAQJ,GACf,SAAnB7R,KAAKkJ,YACPlJ,KAAKkJ,UAAY,SLg9BlB3F,IAAK,oBACLtC,MAAO,WK58Bc,MAAlBjB,KAAKkJ,UACP8I,aAAaE,QAAQL,EAAU7R,KAAKkJ,WAEpC8I,aAAaG,WAAWN,MLi9BzBtO,IAAK,eACLtC,MAAO,WK78BR,MAAyB,OAAlBjB,KAAKkJ,aLi9BX3F,IAAK,cACLtC,MAAO,WK98BRjB,KAAKkJ,UAAY,KACjBlJ,KAAKoS,uBLk9BJ7O,IAAK,QACLtC,MAAO,SKh9BJ6D,EACJC,EACAC,GAAmD,GAAAqN,GAAArS,KAC/C+J,GACFuI,UACExN,MAAOA,GAETyN,QACExN,SAAUA,IAGV6D,GACFD,OAAQ,OACRlC,KAAMoC,KAAKC,UAAUiB,GACrBhB,SACEC,eAAgB,mBAChBC,cAAejJ,KAAKgE,WAGpBoC,EAAMpG,KAAK8R,MAAQ,sBAEvBnI,OAAMvD,EAAKwC,GACRgB,KAAK,SAACC,GACL,GAAIA,EAASC,OAAS,KAAOD,EAASC,QAAU,IAC9C,KAAMD,EAEN,OAAOA,KAGVD,KAAK,SAACG,GACL,MAAOA,GAAKlD,SAEb+C,KAAK,SAACC,GACLwI,EAAKnJ,UAAYW,EAASvF,MAC1B+N,EAAKD,oBACLpN,EAAWqN,EAAKnJ,WAAW,IAE7B,WACEmJ,EAAKnJ,UAAY,KACjBlE,EAAW,MAAM,SLi9BfR,MAKJ,SAAS3E,EAAQD,EAASM,GAE/B,YAkBA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAAS4B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAlBhH5B,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GAGT,IAAI4B,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMvC,OAAOC,eAAe+B,EAAQI,EAAWI,IAAKJ,IAAiB,MAAO,UAAUT,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBJ,EAAYgB,UAAWF,GAAiBC,GAAaX,EAAiBJ,EAAae,GAAqBf,MMjjCjiBd,EAAA1B,EAAA,GAEAsS,EAAAtS,EAAA,GNqjCKuS,EAAS9R,EAAuB6R,GMpjCrCE,EAAAxS,EAAA,GNwjCKyS,EAAQhS,EAAuB+R,GMtjCftQ,EN4jCR,WMnjCX,QAAAA,KAAcI,EAAAxC,KAAAoC,GACZpC,KAAK4S,MAAQhR,EAAAiR,aAAaC,QAC1B9S,KAAK+F,UAAYnE,EAAAO,gBAAgB2Q,QACjC9S,KAAKiG,UAAYrE,EAAAK,WAAWiE,ONioC7B,MAxEArD,GAAaT,IACXmB,IAAK,yBACLtC,MAAO,SMxjCa8R,GAIrB,IAAK,GAHDC,GAAeC,OAAOC,KAAKH,GAC3B7P,EAAS8P,EAAa9P,OACtBkM,EAAQ,GAAI5C,YAAWtJ,GAClBD,EAAI,EAAGA,EAAIC,EAAQD,IAC1BmM,EAAMnM,GAAK+P,EAAaG,WAAWlQ,EAErCjD,MAAKoT,UAAYhE,EAAMrC,UN2jCtBxJ,IAAK,yBACLtC,MAAO,SMzjCaA,GAGrB,IAAK,GAFDiC,GAASjC,EAAMiC,OACfsG,EAAQ,GAAIgD,YAAWtJ,GAClBmQ,EAAQ,EAAGA,EAAQnQ,EAAQmQ,IAClC7J,EAAM6J,GAASpS,EAAMkS,WAAWE,EAElCrT,MAAKoT,UAAY5J,EAAMuD,UN4jCtBxJ,IAAK,kBACLtC,MAAO,WMzjCR,GAAsB,MAAlBjB,KAAKoT,UACP,MAAO,KAKT,KAAK,GAHDE,GAAS,GACTlE,EAAQ,GAAI5C,YAAWxM,KAAKoT,WAC5BG,EAAMnE,EAAMvC,WACP5J,EAAI,EAAGA,EAAIsQ,EAAKtQ,IACvBqQ,GAAUnJ,OAAOuC,aAAa0C,EAAMnM,GAEtC,OAAOgQ,QAAOO,KAAKF,MN6jClB/P,IAAK,mBACLtC,MAAO,WM1jCR,GAAsB,MAAlBjB,KAAKoT,UACP,MAAO,KAET,IAAIK,GAAUzT,KAAK0T,kBACftE,EAAQqD,aAAOnE,OAAOmF,GACtBjN,EAAOmM,aAAKrE,OAAOc,EACvB,OAAO5I,MN8jCNjD,IAAK,WACLtC,MAAO,SM5jCD4F,GACP7G,KAAK2T,KAAO9M,EAAK8M,KACjB3T,KAAK4S,MAAQ/L,EAAK+L,MAClB5S,KAAKiG,UAAYY,EAAKuH,KACtBpO,KAAK+F,UAAYc,EAAK+M,WACG,MAArB/M,EAAKgN,aACP7T,KAAK8T,uBAAuBjN,EAAKgN,cAEjC7T,KAAKoT,UAAY,KAEnBpT,KAAK8F,gBAAkBe,EAAKkN,qBN+jC3BxQ,IAAK,SACLtC,MAAO,WM5jCR,OACEmN,KAAMpO,KAAKiG,UACX8N,kBAAmB/T,KAAK8F,gBACxB+N,aAAc7T,KAAK0T,kBACnBE,WAAY5T,KAAK+F,eNkkCb3D,IAGTxC,cMhpCoBwC,ENipCpBvC,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,GAEtB,YAEAmB,QAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GO/pCGiB,eACX8R,OAAQ,mBACRzN,QAAS,0BACTC,KAAM,uBACNL,MAAO,wBACPV,WAAY,8BAIDwO,yBACXpM,KAAM,EACNqM,UAAW,GAIAjS,cACXqE,UAAW,YACXJ,OAAQ,SACRiO,QAAS,UACTC,QAAS,WAIEjS,mBACX2Q,WACAuB,uBAAwB,EACxBC,mBAAoB,EACpBtO,UAAW,GAIA6M,gBACXC,WACAyB,QAAS,EACTC,QAAS,GAIEC,aACXC,MAAK,EACLC,UAAW,EACXC,SAAU,IPiqCN,SAAS/U,EAAQD,EAASM,GAE/B,GAAI2U,IQ/sCL,SAAAhV,EAAAiV,IACC,SAAApV,GAGD,GAAAqV,GAAA,gBAAAnV,MAQAoV,GALA,gBAAAnV,OACAA,EAAAD,SAAAmV,GAAAlV,EAIA,gBAAAiV,MACAE,GAAAF,SAAAE,KAAA/B,SAAA+B,IACAtV,EAAAsV,EAKA,IAAAC,GAAA,SAAAC,GACAlV,KAAAkV,UAEAD,GAAAvR,UAAA,GAAAwK,OACA+G,EAAAvR,UAAAwG,KAAA,uBAEA,IAAA7F,GAAA,SAAA6Q,GAGA,SAAAD,GAAAC,IAGAC,EAAA,mEAEAC,EAAA,eAMA9G,EAAA,SAAAO,GACAA,EAAA1E,OAAA0E,GACAQ,QAAA+F,EAAA,GACA,IAAAlS,GAAA2L,EAAA3L,MACAA,GAAA,OACA2L,IAAAQ,QAAA,WACAnM,EAAA2L,EAAA3L,SAGAA,EAAA,MAEA,kBAAAkH,KAAAyE,KAEAxK,EACA,wEAQA,KALA,GACAgR,GACAtI,EAFAuI,EAAA,EAGAC,EAAA,GACAC,OACAA,EAAAtS,GACA6J,EAAAoI,EAAAxG,QAAAE,EAAA4G,OAAAD,IACAH,EAAAC,EAAA,KAAAD,EAAAtI,IAEAuI,IAAA,IAEAC,GAAApL,OAAAuC,aACA,IAAA2I,OAAAC,EAAA,IAIA,OAAAC,IAKAG,EAAA,SAAA7G,GACAA,EAAA1E,OAAA0E,GACA,aAAAzE,KAAAyE,IAGAxK,EACA,4EAeA,KAXA,GAGAsR,GACAC,EACAnV,EAEAsM,EAPA8I,EAAAhH,EAAA3L,OAAA,EACAqS,EAAA,GACAC,KAOAtS,EAAA2L,EAAA3L,OAAA2S,IAEAL,EAAAtS,GAEAyS,EAAA9G,EAAAsE,WAAAqC,IAAA,GACAI,EAAA/G,EAAAsE,aAAAqC,IAAA,EACA/U,EAAAoO,EAAAsE,aAAAqC,GACAzI,EAAA4I,EAAAC,EAAAnV,EAGA8U,GACAJ,EAAAM,OAAA1I,GAAA,OACAoI,EAAAM,OAAA1I,GAAA,OACAoI,EAAAM,OAAA1I,GAAA,MACAoI,EAAAM,OAAA,GAAA1I,EAuBA,OAnBA,IAAA8I,GACAF,EAAA9G,EAAAsE,WAAAqC,IAAA,EACAI,EAAA/G,EAAAsE,aAAAqC,GACAzI,EAAA4I,EAAAC,EACAL,GACAJ,EAAAM,OAAA1I,GAAA,IACAoI,EAAAM,OAAA1I,GAAA,MACAoI,EAAAM,OAAA1I,GAAA,MACA,KAEG,GAAA8I,IACH9I,EAAA8B,EAAAsE,WAAAqC,GACAD,GACAJ,EAAAM,OAAA1I,GAAA,GACAoI,EAAAM,OAAA1I,GAAA,MACA,MAIAwI,GAGAxC,GACA2C,SACApH,SACAwH,QAAA,QAUAjB,GAAA,WACA,MAAA9B,IACGxS,KAAAX,EAAAM,EAAAN,EAAAC,KAAA+C,SAAAiS,IAAAhV,EAAAD,QAAAiV,KAaF7U,QR+sC6BO,KAAKX,EAASM,EAAoB,GAAGL,GAAU,WAAa,MAAOG,WAI3F,SAASH,EAAQD,GSv3CvBC,EAAAD,QAAA,SAAAC,GAQA,MAPAA,GAAAkW,kBACAlW,EAAAmW,UAAA,aACAnW,EAAAoW,SAEApW,EAAAqW,YACArW,EAAAkW,gBAAA,GAEAlW,IT+3CM,SAASA,EAAQD,EAASM,GAE/B,GAAI2U,IUz4CL,SAAAhV,EAAAiV,IACC,SAAApV,GAqBD,QAAAyW,GAAAC,GAMA,IALA,GAGAnV,GACAoV,EAJAd,KACAe,EAAA,EACApT,EAAAkT,EAAAlT,OAGAoT,EAAApT,GACAjC,EAAAmV,EAAAjD,WAAAmD,KACArV,GAAA,OAAAA,GAAA,OAAAqV,EAAApT,GAEAmT,EAAAD,EAAAjD,WAAAmD,KACA,cAAAD,GACAd,EAAAvN,OAAA,KAAA/G,IAAA,UAAAoV,GAAA,QAIAd,EAAAvN,KAAA/G,GACAqV,MAGAf,EAAAvN,KAAA/G,EAGA,OAAAsU,GAIA,QAAAgB,GAAA/M,GAKA,IAJA,GAEAvI,GAFAiC,EAAAsG,EAAAtG,OACAmQ,KAEAkC,EAAA,KACAlC,EAAAnQ,GACAjC,EAAAuI,EAAA6J,GACApS,EAAA,QACAA,GAAA,MACAsU,GAAAiB,EAAAvV,IAAA,eACAA,EAAA,WAAAA,GAEAsU,GAAAiB,EAAAvV,EAEA,OAAAsU,GAGA,QAAAkB,GAAAC,GACA,GAAAA,GAAA,OAAAA,GAAA,MACA,KAAAxI,OACA,oBAAAwI,EAAA9I,SAAA,IAAAc,cACA,0BAMA,QAAAiI,GAAAD,EAAAjM,GACA,MAAA+L,GAAAE,GAAAjM,EAAA,QAGA,QAAAmM,GAAAF,GACA,kBAAAA,GACA,MAAAF,GAAAE,EAEA,IAAAG,GAAA,EAeA,OAdA,gBAAAH,GACAG,EAAAL,EAAAE,GAAA,UAEA,eAAAA,IACAD,EAAAC,GACAG,EAAAL,EAAAE,GAAA,WACAG,GAAAF,EAAAD,EAAA,IAEA,eAAAA,KACAG,EAAAL,EAAAE,GAAA,UACAG,GAAAF,EAAAD,EAAA,IACAG,GAAAF,EAAAD,EAAA,IAEAG,GAAAL,EAAA,GAAAE,EAAA,KAIA,QAAAI,GAAAV,GAMA,IALA,GAGAM,GAHAK,EAAAZ,EAAAC,GACAlT,EAAA6T,EAAA7T,OACAmQ,KAEA2D,EAAA,KACA3D,EAAAnQ,GACAwT,EAAAK,EAAA1D,GACA2D,GAAAJ,EAAAF,EAEA,OAAAM,GAKA,QAAAC,KACA,GAAAC,GAAAC,EACA,KAAAjJ,OAAA,qBAGA,IAAAkJ,GAAA,IAAAC,EAAAH,EAGA,IAFAA,IAEA,UAAAE,GACA,UAAAA,CAIA,MAAAlJ,OAAA,6BAGA,QAAAoJ,KACA,GAAAC,GACAC,EACAC,EACAC,EACAhB,CAEA,IAAAQ,EAAAC,EACA,KAAAjJ,OAAA,qBAGA,IAAAgJ,GAAAC,EACA,QAQA,IAJAI,EAAA,IAAAF,EAAAH,GACAA,IAGA,QAAAK,GACA,MAAAA,EAIA,cAAAA,GAAA,CAGA,GAFAC,EAAAP,IACAP,GAAA,GAAAa,IAAA,EAAAC,EACAd,GAAA,IACA,MAAAA,EAEA,MAAAxI,OAAA,6BAKA,aAAAqJ,GAAA,CAIA,GAHAC,EAAAP,IACAQ,EAAAR,IACAP,GAAA,GAAAa,IAAA,GAAAC,GAAA,EAAAC,EACAf,GAAA,KAEA,MADAD,GAAAC,GACAA,CAEA,MAAAxI,OAAA,6BAKA,aAAAqJ,KACAC,EAAAP,IACAQ,EAAAR,IACAS,EAAAT,IACAP,GAAA,EAAAa,IAAA,GAAAC,GAAA,GACAC,GAAA,EAAAC,EACAhB,GAAA,OAAAA,GAAA,SACA,MAAAA,EAIA,MAAAxI,OAAA,0BAMA,QAAAyJ,GAAAX,GACAK,EAAAlB,EAAAa,GACAG,EAAAE,EAAAnU,OACAgU,EAAA,CAGA,KAFA,GACAU,GADAb,MAEAa,EAAAN,QAAA,GACAP,EAAA/O,KAAA4P,EAEA,OAAArB,GAAAQ,GA5MA,GAAAhC,GAAA,gBAAAnV,MAQAoV,GALA,gBAAAnV,OACAA,EAAAD,SAAAmV,GAAAlV,EAIA,gBAAAiV,MACAE,GAAAF,SAAAE,KAAA/B,SAAA+B,IACAtV,EAAAsV,EAKA,IAiLAqC,GACAF,EACAD,EAnLAV,EAAArM,OAAAuC,aAkMAmL,GACA/B,QAAA,QACAJ,OAAAoB,EACAxI,OAAAqJ,EAUA9C,GAAA,WACA,MAAAgD,IACGtX,KAAAX,EAAAM,EAAAN,EAAAC,KAAA+C,SAAAiS,IAAAhV,EAAAD,QAAAiV,KAeF7U,QVy4C6BO,KAAKX,EAASM,EAAoB,GAAGL,GAAU,WAAa,MAAOG,WAI3F,SAASH,EAAQD,EAASM,GAE/B,YAcA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAAS4B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAdhH5B,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GAGT,IAAI4B,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMvC,OAAOC,eAAe+B,EAAQI,EAAWI,IAAKJ,IAAiB,MAAO,UAAUT,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBJ,EAAYgB,UAAWF,GAAiBC,GAAaX,EAAiBJ,EAAae,GAAqBf,MWtoDjiBtB,EAAAlB,EAAA,GX0oDKmB,EAAUV,EAAuBS,GWxoDtCQ,EAAA1B,EAAA,GAEqBmC,EX8oDR,WWpoDX,QAAAA,KAAcG,EAAAxC,KAAAqC,GACZrC,KAAK4S,MAAQhR,EAAAiR,aAAaC,QAC1B9S,KAAKwF,UAAY5D,EAAAM,WAAWuD,WAC5BzF,KAAK0F,mBACL1F,KAAK8X,QAAS,EXgtDf,MAtEAjV,GAAaR,IACXkB,IAAK,oBACLtC,MAAO,SWzoDQgF,GAChB,GAA4B,MAAxBjG,KAAK0F,gBACP,MAAO,KAFqC,IAAA2B,IAAA,EAAAC,GAAA,EAAAC,EAAA3E,MAAA,KAI9C,OAAA4E,GAAAC,EAAkBzH,KAAK0F,gBAAvBgC,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAwC,IAA/BxB,GAA+B2B,EAAAvG,KACtC,IAAI4E,EAAMI,YAAcA,GAAaJ,EAAM+M,QAAUhR,EAAAiR,aAAa0B,QAChE,MAAO1O,IANmC,MAAAoC,GAAAX,GAAA,EAAAC,EAAAU,EAAA,aAAAZ,GAAAI,2BAAA,WAAAH,EAAA,KAAAC,IAS9C,MAAO,SXkqDNhE,IAAK,WACLtC,MAAO,SWhqDD4F,GACP7G,KAAK2T,KAAO9M,EAAK8M,KACjB3T,KAAK4S,MAAQ/L,EAAK+L,MAClB5S,KAAKsF,SAAWuB,EAAKkR,UACrB/X,KAAKuF,SAAWsB,EAAKmR,UACrBhY,KAAKwF,UAAYqB,EAAKoR,gBACtBjY,KAAK8X,OAASjR,EAAKiR,SAAU,EACD,MAAxBjR,EAAKnB,gBACP1F,KAAK0F,gBAAkBmB,EAAKnB,gBAAgBmF,IAAI,SAAShE,GACvD,GAAIhB,GAAQ,GAAAxE,aAEZ,OADAwE,GAAMkB,SAASF,GACRhB,IAGT7F,KAAK0F,gBAAkB,QXoqDxBnC,IAAK,SACLtC,MAAO,WWhqDR,OACEgX,gBAAiBjY,KAAKwF,UACtBoN,MAAO5S,KAAK4S,MACZmF,UAAW/X,KAAKsF,SAChB0S,UAAWhY,KAAKuF,SAChBuS,OAAQ9X,KAAK8X,OACbpS,gBAAyC,MAAxB1F,KAAK0F,gBAA0B1F,KAAK0F,gBAAgBmF,IAAI,SAAShF,GAChF,MAAOA,GAAMa,WACV,UXsqDDrE,IAGTzC,cWjuDoByC,EXkuDpBxC,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAcA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAAS4B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAdhH5B,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GAGT,IAAI4B,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMvC,OAAOC,eAAe+B,EAAQI,EAAWI,IAAKJ,IAAiB,MAAO,UAAUT,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBJ,EAAYgB,UAAWF,GAAiBC,GAAaX,EAAiBJ,EAAae,GAAqBf,MYjvDjiBd,EAAA1B,EAAA,GACAoB,EAAApB,EAAA,GZsvDKqB,EAAUZ,EAAuBW,GYpvDjBgB,EZ0vDT,WYlvDV,QAAAA,KAAcE,EAAAxC,KAAAsC,GACZtC,KAAK4S,MAAQhR,EAAAiR,aAAaC,QZ6wD3B,MArBAjQ,GAAaP,IACXiB,IAAK,WACLtC,MAAO,SYvvDD4F,GACP7G,KAAK2T,KAAO9M,EAAK8M,KACjB3T,KAAK4S,MAAQ/L,EAAK+L,MAClB5S,KAAKkY,MAAQrR,EAAKqR,MACY,MAA1BrR,EAAKsR,oBACPnY,KAAKgU,OAAS,GAAAzS,cACdvB,KAAKgU,OAAOL,KAAO9M,EAAKsR,mBAEI,MAA1BtR,EAAKuR,oBACPpY,KAAK+C,OAAS,GAAAxB,cACdvB,KAAK+C,OAAO4Q,KAAO9M,EAAKuR,mBAED,MAArBvR,EAAKwR,eACPrY,KAAK+C,OAAS,GAAAxB,cACdvB,KAAK+C,OAAOgE,SAASF,EAAKwR,mBZ4vDtB/V,IAGT1C,cYzxDoB0C,EZ0xDpBzC,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,EAASM,GAE/B,YAUA,SAASsC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCARhH5B,OAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GAGT,IAAI4B,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMvC,OAAOC,eAAe+B,EAAQI,EAAWI,IAAKJ,IAAiB,MAAO,UAAUT,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBJ,EAAYgB,UAAWF,GAAiBC,GAAaX,EAAiBJ,EAAae,GAAqBf,MavyD5gBH,GAFrBrC,EAAA,Gb+yDW,WanyDT,QAAAqC,KAAcC,EAAAxC,KAAAuC,Gb+zDb,MAvBAM,GAAaN,IACXgB,IAAK,WACLtC,MAAO,SavyDD4F,GACP7G,KAAKK,GAAKwG,EAAKxG,GACfL,KAAKkK,KAAOrD,EAAKqD,KACjBlK,KAAKsY,YAAczR,EAAKyR,YACxBtY,KAAK8E,MAAQ+B,EAAK/B,MAClB9E,KAAKuY,QAAU1R,EAAK0R,QACpBvY,KAAKsE,MAAQuC,EAAKvC,MAClBtE,KAAK4S,MAAQ/L,EAAK+L,Sb0yDjBrP,IAAK,SACLtC,MAAO,WavyDR,OACEiJ,KAAMlK,KAAKkK,KACXoO,YAAatY,KAAKsY,YAClBxT,MAAO9E,KAAK8E,MACZyT,QAASvY,KAAKuY,ab6yDVhW,KAGT3C,ca50DoB2C,Eb60DpB1C,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,GAEtB,YAEAmB,QAAOC,eAAepB,EAAS,cAC7BqB,OAAO,Gcx1DGe,qBACXkC,WAAY,EACZQ,MAAO,EACPC,UAAW","file":"memex-js-sdk.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"memex-js-sdk\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"memex-js-sdk\"] = factory();\n\telse\n\t\troot[\"memex-js-sdk\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"memex-js-sdk\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"memex-js-sdk\"] = factory();\n\telse\n\t\troot[\"memex-js-sdk\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Spaces = __webpack_require__(1);\n\t\n\tvar _Configuration = __webpack_require__(12);\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tvar _Space = __webpack_require__(9);\n\t\n\tvar _Space2 = _interopRequireDefault(_Space);\n\t\n\tvar _Link = __webpack_require__(10);\n\t\n\tvar _Link2 = _interopRequireDefault(_Link);\n\t\n\tvar _App = __webpack_require__(11);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Memex = {\n\t  sharedClient: new _Spaces.Spaces(),\n\t  environmentTypes: _Configuration.environmentTypes,\n\t  mediaTypes: _Types.mediaTypes,\n\t  spaceTypes: _Types.spaceTypes,\n\t  mediaDataStates: _Types.mediaDataStates,\n\t  Media: _Media2.default,\n\t  Space: _Space2.default,\n\t  Link: _Link2.default,\n\t  App: _App2.default\n\t};\n\t\n\texports.default = Memex;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Spaces = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(2);\n\t\n\tvar _Auth = __webpack_require__(3);\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tvar _Space = __webpack_require__(9);\n\t\n\tvar _Space2 = _interopRequireDefault(_Space);\n\t\n\tvar _Link = __webpack_require__(10);\n\t\n\tvar _Link2 = _interopRequireDefault(_Link);\n\t\n\tvar _App = __webpack_require__(11);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tvar _Configuration = __webpack_require__(12);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar methods = {\n\t  GET: 'GET',\n\t  POST: 'POST'\n\t};\n\t\n\tvar Spaces = exports.Spaces = function () {\n\t  function Spaces() {\n\t    _classCallCheck(this, Spaces);\n\t\n\t    this._configuration = {\n\t      appToken: \"\",\n\t      environment: _Configuration.environmentTypes.production\n\t    };\n\t    this._setEnvironment(_Configuration.environmentTypes.production);\n\t  }\n\t\n\t  _createClass(Spaces, [{\n\t    key: '_isConfigured',\n\t    value: function _isConfigured() {\n\t      if (this._configuration.appToken === \"\") {\n\t        console.error(\"Missing Memex configuration, call Memex.client.setAppToken('<Your app token>')\");\n\t        return false;\n\t      }\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'setAppToken',\n\t    value: function setAppToken(token) {\n\t      this._configuration.appToken = token;\n\t      this._auth.appToken = token;\n\t    }\n\t  }, {\n\t    key: '_setEnvironment',\n\t    value: function _setEnvironment(environment) {\n\t      this._configuration.environment = environment;\n\t      this._auth = new _Auth.Auth(this._APIURL(environment));\n\t      this._auth.appToken = this._configuration.appToken;\n\t    }\n\t  }, {\n\t    key: '_APIURL',\n\t    value: function _APIURL(environment) {\n\t      switch (environment) {\n\t        case _Configuration.environmentTypes.production:\n\t          return 'https://mmx-spaces-api-prod.herokuapp.com';\n\t        case _Configuration.environmentTypes.stage:\n\t          return 'https://mmx-spaces-api-stage.herokuapp.com';\n\t        case _Configuration.environmentTypes.localhost:\n\t          return 'http://localhost:5000';\n\t        default:\n\t          console.error('Unknown environment');\n\t          return '';\n\t      }\n\t    }\n\t  }, {\n\t    key: 'isLoggedIn',\n\t    value: function isLoggedIn() {\n\t      if (!this._isConfigured()) {\n\t        return false;\n\t      }\n\t      return this._auth.isAuthorized();\n\t    }\n\t  }, {\n\t    key: 'login',\n\t    value: function login(email, password, completion) {\n\t      if (!this._isConfigured()) {\n\t        return;\n\t      }\n\t      this._auth.login(email, password, completion);\n\t    }\n\t  }, {\n\t    key: 'logout',\n\t    value: function logout() {\n\t      if (!this._isConfigured()) {\n\t        return;\n\t      }\n\t      this._auth.deauthorize();\n\t    }\n\t  }, {\n\t    key: 'createCollectionSpace',\n\t    value: function createCollectionSpace(tag, autodump, completion) {\n\t      var space = new _Space2.default();\n\t      space.tagLabel = tag;\n\t      space.tagColor = null;\n\t      space.spaceType = _Types.spaceTypes.collection;\n\t      space.representations = [];\n\t      this.createSpace(space, autodump, completion);\n\t    }\n\t  }, {\n\t    key: 'createImageSpace',\n\t    value: function createImageSpace(imageURL, autodump, completion) {\n\t      var media = new _Media2.default();\n\t      media.dataDownloadURL = imageURL;\n\t      media.dataState = _Types.mediaDataStates.dataValid;\n\t      media.mediaType = _Types.mediaTypes.source;\n\t\n\t      var space = new _Space2.default();\n\t      space.spaceType = _Types.spaceTypes.image;\n\t      space.representations = [media];\n\t\n\t      this.createSpace(space, autodump, completion);\n\t    }\n\t  }, {\n\t    key: 'createWebPageSpace',\n\t    value: function createWebPageSpace(url, autodump, completion) {\n\t      var media = new _Media2.default();\n\t      media.setEmbedDataFromString(url);\n\t      media.dataState = _Types.mediaDataStates.dataValid;\n\t      media.mediaType = _Types.mediaTypes.reference;\n\t\n\t      var space = new _Space2.default();\n\t      space.spaceType = _Types.spaceTypes.webPage;\n\t      space.representations = [media];\n\t\n\t      this.createSpace(space, autodump, completion);\n\t    }\n\t  }, {\n\t    key: 'createTextSpace',\n\t    value: function createTextSpace(text, autodump, completion) {\n\t      var media = new _Media2.default();\n\t      media.setEmbedDataFromString(text);\n\t      media.dataState = _Types.mediaDataStates.dataValid;\n\t      media.mediaType = _Types.mediaTypes.source;\n\t\n\t      var space = new _Space2.default();\n\t      space.spaceType = _Types.spaceTypes.text;\n\t      space.representations = [media];\n\t\n\t      this.createSpace(space, autodump, completion);\n\t    }\n\t  }, {\n\t    key: 'createSpace',\n\t    value: function createSpace(space, autodump, completion) {\n\t      var body = {\n\t        space: space.toJSON(),\n\t        process: \"sync\",\n\t        autodump: autodump\n\t      };\n\t      this._perform(methods.POST, 'spaces', null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var space = new _Space2.default();\n\t        space.fromJSON(json.space);\n\t        completion(space, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getSpaceLinks',\n\t    value: function getSpaceLinks(spaceMUID, completion) {\n\t      var path = 'spaces/' + spaceMUID + '/links';\n\t      var query = {\n\t        includeTarget: true\n\t      };\n\t      this._perform(methods.GET, path, query, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var links = [];\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t          for (var _iterator = json.links[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var item = _step.value;\n\t\n\t            var link = new _Link2.default();\n\t            link.fromJSON(item);\n\t            links.push(link);\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError = true;\n\t          _iteratorError = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t              _iterator.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError) {\n\t              throw _iteratorError;\n\t            }\n\t          }\n\t        }\n\t\n\t        completion(links, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getSpace',\n\t    value: function getSpace(spaceMUID, completion) {\n\t      this._perform(methods.GET, 'spaces/' + spaceMUID, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var space = new _Space2.default();\n\t        space.fromJSON(json.space);\n\t        completion(space, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getApps',\n\t    value: function getApps(completion) {\n\t      var path = 'apps';\n\t      this._perform(methods.GET, path, {}, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var apps = [];\n\t        var _iteratorNormalCompletion2 = true;\n\t        var _didIteratorError2 = false;\n\t        var _iteratorError2 = undefined;\n\t\n\t        try {\n\t          for (var _iterator2 = json.apps[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t            var item = _step2.value;\n\t\n\t            var _app = new _App2.default();\n\t            _app.fromJSON(item);\n\t            apps.push(_app);\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError2 = true;\n\t          _iteratorError2 = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t              _iterator2.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError2) {\n\t              throw _iteratorError2;\n\t            }\n\t          }\n\t        }\n\t\n\t        completion(apps, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'createApp',\n\t    value: function createApp(app, completion) {\n\t      var body = {\n\t        app: app.toJSON()\n\t      };\n\t      this._perform(methods.POST, 'apps', null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json.app);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateApp',\n\t    value: function updateApp(app, completion) {\n\t      if (app.id === null) {\n\t        console.error(\"Missing app id\");\n\t        completion(null, false);\n\t        return;\n\t      }\n\t      var body = {\n\t        app: app.toJSON()\n\t      };\n\t      this._perform(methods.POST, 'apps/' + app.id, null, body, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json.app);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renewAppToken',\n\t    value: function renewAppToken(appID, completion) {\n\t      this._perform(methods.POST, 'apps/' + appID + \"/renew-token\", null, {}, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json.app);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getApp',\n\t    value: function getApp(id, completion) {\n\t      this._perform(methods.GET, 'apps/' + id, null, null, function (json, success) {\n\t        if (success === false || json == null) {\n\t          completion(null, false);\n\t          return;\n\t        }\n\t        var newApp = new _App2.default();\n\t        newApp.fromJSON(json.app);\n\t        completion(newApp, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: '_perform',\n\t    value: function _perform(method, path, query, body, completion) {\n\t      if (!this._isConfigured()) {\n\t        return;\n\t      }\n\t      var options = {\n\t        method: method,\n\t        body: body != null ? JSON.stringify(body) : null,\n\t        headers: {\n\t          'Content-Type': 'application/json',\n\t          'X-App-Token': this._configuration.appToken\n\t        }\n\t      };\n\t      if (this._auth.userToken != null) {\n\t        options.headers['X-User-Token'] = this._auth.userToken;\n\t      }\n\t      var host = this._APIURL(this._configuration.environment);\n\t      var url = host + '/' + path;\n\t      var resultQuery = query;\n\t      if (resultQuery != null) {\n\t        var keys = Object.keys(resultQuery);\n\t        var queryString = keys.reduce(function (array, key) {\n\t          if (resultQuery == null) {\n\t            return array;\n\t          }\n\t          var value = resultQuery[key];\n\t          array.push(key + '=' + encodeURIComponent(value));\n\t          return array;\n\t        }, []).join('&');\n\t        url += '?' + queryString;\n\t      }\n\t      fetch(url, options).then(function (response) {\n\t        if (response.status < 200 || response.status >= 300) {\n\t          throw response;\n\t        } else {\n\t          return response;\n\t        }\n\t      }).then(function (data) {\n\t        return data.json();\n\t      }).then(function (response) {\n\t        completion(response, true);\n\t      }, function (error) {\n\t        completion(null, false);\n\t      });\n\t    }\n\t  }]);\n\n\t  return Spaces;\n\t}();\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t(function(self) {\n\t  'use strict';\n\t\n\t  if (self.fetch) {\n\t    return\n\t  }\n\t\n\t  var support = {\n\t    searchParams: 'URLSearchParams' in self,\n\t    iterable: 'Symbol' in self && 'iterator' in Symbol,\n\t    blob: 'FileReader' in self && 'Blob' in self && (function() {\n\t      try {\n\t        new Blob()\n\t        return true\n\t      } catch(e) {\n\t        return false\n\t      }\n\t    })(),\n\t    formData: 'FormData' in self,\n\t    arrayBuffer: 'ArrayBuffer' in self\n\t  }\n\t\n\t  if (support.arrayBuffer) {\n\t    var viewClasses = [\n\t      '[object Int8Array]',\n\t      '[object Uint8Array]',\n\t      '[object Uint8ClampedArray]',\n\t      '[object Int16Array]',\n\t      '[object Uint16Array]',\n\t      '[object Int32Array]',\n\t      '[object Uint32Array]',\n\t      '[object Float32Array]',\n\t      '[object Float64Array]'\n\t    ]\n\t\n\t    var isDataView = function(obj) {\n\t      return obj && DataView.prototype.isPrototypeOf(obj)\n\t    }\n\t\n\t    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n\t      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n\t    }\n\t  }\n\t\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = String(name)\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t  }\n\t\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = String(value)\n\t    }\n\t    return value\n\t  }\n\t\n\t  // Build a destructive iterator for the value list\n\t  function iteratorFor(items) {\n\t    var iterator = {\n\t      next: function() {\n\t        var value = items.shift()\n\t        return {done: value === undefined, value: value}\n\t      }\n\t    }\n\t\n\t    if (support.iterable) {\n\t      iterator[Symbol.iterator] = function() {\n\t        return iterator\n\t      }\n\t    }\n\t\n\t    return iterator\n\t  }\n\t\n\t  function Headers(headers) {\n\t    this.map = {}\n\t\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function(value, name) {\n\t        this.append(name, value)\n\t      }, this)\n\t    } else if (Array.isArray(headers)) {\n\t      headers.forEach(function(header) {\n\t        this.append(header[0], header[1])\n\t      }, this)\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function(name) {\n\t        this.append(name, headers[name])\n\t      }, this)\n\t    }\n\t  }\n\t\n\t  Headers.prototype.append = function(name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var oldValue = this.map[name]\n\t    this.map[name] = oldValue ? oldValue+','+value : value\n\t  }\n\t\n\t  Headers.prototype['delete'] = function(name) {\n\t    delete this.map[normalizeName(name)]\n\t  }\n\t\n\t  Headers.prototype.get = function(name) {\n\t    name = normalizeName(name)\n\t    return this.has(name) ? this.map[name] : null\n\t  }\n\t\n\t  Headers.prototype.has = function(name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t  }\n\t\n\t  Headers.prototype.set = function(name, value) {\n\t    this.map[normalizeName(name)] = normalizeValue(value)\n\t  }\n\t\n\t  Headers.prototype.forEach = function(callback, thisArg) {\n\t    for (var name in this.map) {\n\t      if (this.map.hasOwnProperty(name)) {\n\t        callback.call(thisArg, this.map[name], name, this)\n\t      }\n\t    }\n\t  }\n\t\n\t  Headers.prototype.keys = function() {\n\t    var items = []\n\t    this.forEach(function(value, name) { items.push(name) })\n\t    return iteratorFor(items)\n\t  }\n\t\n\t  Headers.prototype.values = function() {\n\t    var items = []\n\t    this.forEach(function(value) { items.push(value) })\n\t    return iteratorFor(items)\n\t  }\n\t\n\t  Headers.prototype.entries = function() {\n\t    var items = []\n\t    this.forEach(function(value, name) { items.push([name, value]) })\n\t    return iteratorFor(items)\n\t  }\n\t\n\t  if (support.iterable) {\n\t    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n\t  }\n\t\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'))\n\t    }\n\t    body.bodyUsed = true\n\t  }\n\t\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function(resolve, reject) {\n\t      reader.onload = function() {\n\t        resolve(reader.result)\n\t      }\n\t      reader.onerror = function() {\n\t        reject(reader.error)\n\t      }\n\t    })\n\t  }\n\t\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    var promise = fileReaderReady(reader)\n\t    reader.readAsArrayBuffer(blob)\n\t    return promise\n\t  }\n\t\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader()\n\t    var promise = fileReaderReady(reader)\n\t    reader.readAsText(blob)\n\t    return promise\n\t  }\n\t\n\t  function readArrayBufferAsText(buf) {\n\t    var view = new Uint8Array(buf)\n\t    var chars = new Array(view.length)\n\t\n\t    for (var i = 0; i < view.length; i++) {\n\t      chars[i] = String.fromCharCode(view[i])\n\t    }\n\t    return chars.join('')\n\t  }\n\t\n\t  function bufferClone(buf) {\n\t    if (buf.slice) {\n\t      return buf.slice(0)\n\t    } else {\n\t      var view = new Uint8Array(buf.byteLength)\n\t      view.set(new Uint8Array(buf))\n\t      return view.buffer\n\t    }\n\t  }\n\t\n\t  function Body() {\n\t    this.bodyUsed = false\n\t\n\t    this._initBody = function(body) {\n\t      this._bodyInit = body\n\t      if (!body) {\n\t        this._bodyText = ''\n\t      } else if (typeof body === 'string') {\n\t        this._bodyText = body\n\t      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t        this._bodyBlob = body\n\t      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t        this._bodyFormData = body\n\t      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n\t        this._bodyText = body.toString()\n\t      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n\t        this._bodyArrayBuffer = bufferClone(body.buffer)\n\t        // IE 10-11 can't handle a DataView body.\n\t        this._bodyInit = new Blob([this._bodyArrayBuffer])\n\t      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n\t        this._bodyArrayBuffer = bufferClone(body)\n\t      } else {\n\t        throw new Error('unsupported BodyInit type')\n\t      }\n\t\n\t      if (!this.headers.get('content-type')) {\n\t        if (typeof body === 'string') {\n\t          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n\t        } else if (this._bodyBlob && this._bodyBlob.type) {\n\t          this.headers.set('content-type', this._bodyBlob.type)\n\t        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n\t          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n\t        }\n\t      }\n\t    }\n\t\n\t    if (support.blob) {\n\t      this.blob = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob)\n\t        } else if (this._bodyArrayBuffer) {\n\t          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob')\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]))\n\t        }\n\t      }\n\t\n\t      this.arrayBuffer = function() {\n\t        if (this._bodyArrayBuffer) {\n\t          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n\t        } else {\n\t          return this.blob().then(readBlobAsArrayBuffer)\n\t        }\n\t      }\n\t    }\n\t\n\t    this.text = function() {\n\t      var rejected = consumed(this)\n\t      if (rejected) {\n\t        return rejected\n\t      }\n\t\n\t      if (this._bodyBlob) {\n\t        return readBlobAsText(this._bodyBlob)\n\t      } else if (this._bodyArrayBuffer) {\n\t        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n\t      } else if (this._bodyFormData) {\n\t        throw new Error('could not read FormData body as text')\n\t      } else {\n\t        return Promise.resolve(this._bodyText)\n\t      }\n\t    }\n\t\n\t    if (support.formData) {\n\t      this.formData = function() {\n\t        return this.text().then(decode)\n\t      }\n\t    }\n\t\n\t    this.json = function() {\n\t      return this.text().then(JSON.parse)\n\t    }\n\t\n\t    return this\n\t  }\n\t\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\t\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase()\n\t    return (methods.indexOf(upcased) > -1) ? upcased : method\n\t  }\n\t\n\t  function Request(input, options) {\n\t    options = options || {}\n\t    var body = options.body\n\t\n\t    if (input instanceof Request) {\n\t      if (input.bodyUsed) {\n\t        throw new TypeError('Already read')\n\t      }\n\t      this.url = input.url\n\t      this.credentials = input.credentials\n\t      if (!options.headers) {\n\t        this.headers = new Headers(input.headers)\n\t      }\n\t      this.method = input.method\n\t      this.mode = input.mode\n\t      if (!body && input._bodyInit != null) {\n\t        body = input._bodyInit\n\t        input.bodyUsed = true\n\t      }\n\t    } else {\n\t      this.url = String(input)\n\t    }\n\t\n\t    this.credentials = options.credentials || this.credentials || 'omit'\n\t    if (options.headers || !this.headers) {\n\t      this.headers = new Headers(options.headers)\n\t    }\n\t    this.method = normalizeMethod(options.method || this.method || 'GET')\n\t    this.mode = options.mode || this.mode || null\n\t    this.referrer = null\n\t\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(body)\n\t  }\n\t\n\t  Request.prototype.clone = function() {\n\t    return new Request(this, { body: this._bodyInit })\n\t  }\n\t\n\t  function decode(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function(bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=')\n\t        var name = split.shift().replace(/\\+/g, ' ')\n\t        var value = split.join('=').replace(/\\+/g, ' ')\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t      }\n\t    })\n\t    return form\n\t  }\n\t\n\t  function parseHeaders(rawHeaders) {\n\t    var headers = new Headers()\n\t    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n\t      var parts = line.split(':')\n\t      var key = parts.shift().trim()\n\t      if (key) {\n\t        var value = parts.join(':').trim()\n\t        headers.append(key, value)\n\t      }\n\t    })\n\t    return headers\n\t  }\n\t\n\t  Body.call(Request.prototype)\n\t\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {}\n\t    }\n\t\n\t    this.type = 'default'\n\t    this.status = 'status' in options ? options.status : 200\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n\t    this.headers = new Headers(options.headers)\n\t    this.url = options.url || ''\n\t    this._initBody(bodyInit)\n\t  }\n\t\n\t  Body.call(Response.prototype)\n\t\n\t  Response.prototype.clone = function() {\n\t    return new Response(this._bodyInit, {\n\t      status: this.status,\n\t      statusText: this.statusText,\n\t      headers: new Headers(this.headers),\n\t      url: this.url\n\t    })\n\t  }\n\t\n\t  Response.error = function() {\n\t    var response = new Response(null, {status: 0, statusText: ''})\n\t    response.type = 'error'\n\t    return response\n\t  }\n\t\n\t  var redirectStatuses = [301, 302, 303, 307, 308]\n\t\n\t  Response.redirect = function(url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t      throw new RangeError('Invalid status code')\n\t    }\n\t\n\t    return new Response(null, {status: status, headers: {location: url}})\n\t  }\n\t\n\t  self.Headers = Headers\n\t  self.Request = Request\n\t  self.Response = Response\n\t\n\t  self.fetch = function(input, init) {\n\t    return new Promise(function(resolve, reject) {\n\t      var request = new Request(input, init)\n\t      var xhr = new XMLHttpRequest()\n\t\n\t      xhr.onload = function() {\n\t        var options = {\n\t          status: xhr.status,\n\t          statusText: xhr.statusText,\n\t          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n\t        }\n\t        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText\n\t        resolve(new Response(body, options))\n\t      }\n\t\n\t      xhr.onerror = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.ontimeout = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.open(request.method, request.url, true)\n\t\n\t      if (request.credentials === 'include') {\n\t        xhr.withCredentials = true\n\t      }\n\t\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob'\n\t      }\n\t\n\t      request.headers.forEach(function(value, name) {\n\t        xhr.setRequestHeader(name, value)\n\t      })\n\t\n\t      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n\t    })\n\t  }\n\t  self.fetch.polyfill = true\n\t})(typeof self !== 'undefined' ? self : this);\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Auth = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar tokenKey = 'token';\n\t\n\tvar Auth = exports.Auth = function () {\n\t  function Auth(host) {\n\t    _classCallCheck(this, Auth);\n\t\n\t    this._host = host;\n\t    this._loadFromStorage();\n\t  }\n\t\n\t  _createClass(Auth, [{\n\t    key: '_loadFromStorage',\n\t    value: function _loadFromStorage() {\n\t      this.userToken = localStorage.getItem(tokenKey);\n\t      if (this.userToken === 'null') {\n\t        this.userToken = null;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_storeIntoStorage',\n\t    value: function _storeIntoStorage() {\n\t      if (this.userToken != null) {\n\t        localStorage.setItem(tokenKey, this.userToken);\n\t      } else {\n\t        localStorage.removeItem(tokenKey);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'isAuthorized',\n\t    value: function isAuthorized() {\n\t      return this.userToken != null;\n\t    }\n\t  }, {\n\t    key: 'deauthorize',\n\t    value: function deauthorize() {\n\t      this.userToken = null;\n\t      this._storeIntoStorage();\n\t    }\n\t  }, {\n\t    key: 'login',\n\t    value: function login(email, password, completion) {\n\t      var _this = this;\n\t\n\t      var data = {\n\t        identity: {\n\t          email: email\n\t        },\n\t        secret: {\n\t          password: password\n\t        }\n\t      };\n\t      var options = {\n\t        method: 'POST',\n\t        body: JSON.stringify(data),\n\t        headers: {\n\t          'Content-Type': 'application/json',\n\t          'X-App-Token': this.appToken\n\t        }\n\t      };\n\t      var url = this._host + '/users/request-token';\n\t\n\t      fetch(url, options).then(function (response) {\n\t        if (response.status < 200 || response.status >= 300) {\n\t          throw response;\n\t        } else {\n\t          return response;\n\t        }\n\t      }).then(function (data) {\n\t        return data.json();\n\t      }).then(function (response) {\n\t        _this.userToken = response.token;\n\t        _this._storeIntoStorage();\n\t        completion(_this.userToken, true);\n\t      }, function () {\n\t        _this.userToken = null;\n\t        completion(null, false);\n\t      });\n\t    }\n\t  }]);\n\n\t  return Auth;\n\t}();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tvar _base = __webpack_require__(6);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _utf = __webpack_require__(8);\n\t\n\tvar _utf2 = _interopRequireDefault(_utf);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Media = function () {\n\t  function Media() {\n\t    _classCallCheck(this, Media);\n\t\n\t    this.state = _Types.entityStates.unknown;\n\t    this.dataState = _Types.mediaDataStates.unknown;\n\t    this.mediaType = _Types.mediaTypes.source;\n\t  }\n\t\n\t  _createClass(Media, [{\n\t    key: 'setEmbedDataFromBase64',\n\t    value: function setEmbedDataFromBase64(base64) {\n\t      var binaryString = window.atob(base64);\n\t      var length = binaryString.length;\n\t      var bytes = new Uint8Array(length);\n\t      for (var i = 0; i < length; i++) {\n\t        bytes[i] = binaryString.charCodeAt(i);\n\t      }\n\t      this.embedData = bytes.buffer;\n\t    }\n\t  }, {\n\t    key: 'setEmbedDataFromString',\n\t    value: function setEmbedDataFromString(value) {\n\t      var length = value.length;\n\t      var array = new Uint8Array(length);\n\t      for (var index = 0; index < length; index++) {\n\t        array[index] = value.charCodeAt(index);\n\t      }\n\t      this.embedData = array.buffer;\n\t    }\n\t  }, {\n\t    key: 'base64EmbedData',\n\t    value: function base64EmbedData() {\n\t      if (this.embedData == null) {\n\t        return null;\n\t      }\n\t      var binary = '';\n\t      var bytes = new Uint8Array(this.embedData);\n\t      var len = bytes.byteLength;\n\t      for (var i = 0; i < len; i++) {\n\t        binary += String.fromCharCode(bytes[i]);\n\t      }\n\t      return window.btoa(binary);\n\t    }\n\t  }, {\n\t    key: 'textualEmbedData',\n\t    value: function textualEmbedData() {\n\t      if (this.embedData == null) {\n\t        return null;\n\t      }\n\t      var encoded = this.base64EmbedData();\n\t      var bytes = _base2.default.decode(encoded);\n\t      var text = _utf2.default.decode(bytes);\n\t      return text;\n\t    }\n\t  }, {\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.muid = json.muid;\n\t      this.state = json.state;\n\t      this.mediaType = json.type;\n\t      this.dataState = json.data_state;\n\t      if (json.embeded_data != null) {\n\t        this.setEmbedDataFromBase64(json.embeded_data);\n\t      } else {\n\t        this.embedData = null;\n\t      }\n\t      this.dataDownloadURL = json.data_download_url;\n\t    }\n\t  }, {\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      return {\n\t        type: this.mediaType,\n\t        data_download_url: this.dataDownloadURL,\n\t        embeded_data: this.base64EmbedData(),\n\t        data_state: this.dataState\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return Media;\n\t}();\n\t\n\texports.default = Media;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar spaceTypes = exports.spaceTypes = {\n\t  origin: 'com.memex.origin',\n\t  webPage: 'com.memex.media.webpage',\n\t  text: 'com.memex.media.text',\n\t  image: 'com.memex.media.image',\n\t  collection: 'com.memex.media.collection'\n\t};\n\t\n\tvar spaceProcessingStates = exports.spaceProcessingStates = {\n\t  done: 0,\n\t  scheduled: 1\n\t};\n\t\n\tvar mediaTypes = exports.mediaTypes = {\n\t  reference: 'reference',\n\t  source: 'source',\n\t  preview: 'preview',\n\t  summary: 'summary'\n\t};\n\t\n\tvar mediaDataStates = exports.mediaDataStates = {\n\t  unknown: -1,\n\t  waitingForNewUploadURL: 0,\n\t  readyForDataUpload: 1,\n\t  dataValid: 2\n\t};\n\t\n\tvar entityStates = exports.entityStates = {\n\t  unknown: -1,\n\t  visible: 0,\n\t  deleted: 1\n\t};\n\t\n\tvar appStates = exports.appStates = {\n\t  new: 0,\n\t  requested: 1,\n\t  approved: 2\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n\t;(function(root) {\n\t\n\t\t// Detect free variables `exports`.\n\t\tvar freeExports = typeof exports == 'object' && exports;\n\t\n\t\t// Detect free variable `module`.\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\tmodule.exports == freeExports && module;\n\t\n\t\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t\t// it as `root`.\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar InvalidCharacterError = function(message) {\n\t\t\tthis.message = message;\n\t\t};\n\t\tInvalidCharacterError.prototype = new Error;\n\t\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\t\n\t\tvar error = function(message) {\n\t\t\t// Note: the error messages used throughout this file match those used by\n\t\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\t\tthrow new InvalidCharacterError(message);\n\t\t};\n\t\n\t\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\t\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\t\n\t\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t\t// implementation. https://gist.github.com/atk/1020396\n\t\tvar decode = function(input) {\n\t\t\tinput = String(input)\n\t\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\t\tvar length = input.length;\n\t\t\tif (length % 4 == 0) {\n\t\t\t\tinput = input.replace(/==?$/, '');\n\t\t\t\tlength = input.length;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tlength % 4 == 1 ||\n\t\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t\t) {\n\t\t\t\terror(\n\t\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar bitCounter = 0;\n\t\t\tvar bitStorage;\n\t\t\tvar buffer;\n\t\t\tvar output = '';\n\t\t\tvar position = -1;\n\t\t\twhile (++position < length) {\n\t\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\t\n\t\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\t\tvar encode = function(input) {\n\t\t\tinput = String(input);\n\t\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\t\terror(\n\t\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t\t'Latin1 range.'\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar padding = input.length % 3;\n\t\t\tvar output = '';\n\t\t\tvar position = -1;\n\t\t\tvar a;\n\t\t\tvar b;\n\t\t\tvar c;\n\t\t\tvar d;\n\t\t\tvar buffer;\n\t\t\t// Make sure any padding is handled outside of the loop.\n\t\t\tvar length = input.length - padding;\n\t\n\t\t\twhile (++position < length) {\n\t\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\t\tc = input.charCodeAt(++position);\n\t\t\t\tbuffer = a + b + c;\n\t\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t\t// matching character for each of them to the output.\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\tif (padding == 2) {\n\t\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\t\tb = input.charCodeAt(++position);\n\t\t\t\tbuffer = a + b;\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t\t'='\n\t\t\t\t);\n\t\t\t} else if (padding == 1) {\n\t\t\t\tbuffer = input.charCodeAt(position);\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t\t'=='\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\t};\n\t\n\t\tvar base64 = {\n\t\t\t'encode': encode,\n\t\t\t'decode': decode,\n\t\t\t'version': '0.1.0'\n\t\t};\n\t\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn base64;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = base64;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tfor (var key in base64) {\n\t\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.base64 = base64;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)(module), (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\t;(function(root) {\n\t\n\t\t// Detect free variables `exports`\n\t\tvar freeExports = typeof exports == 'object' && exports;\n\t\n\t\t// Detect free variable `module`\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\tmodule.exports == freeExports && module;\n\t\n\t\t// Detect free variable `global`, from Node.js or Browserified code,\n\t\t// and use it as `root`\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar stringFromCharCode = String.fromCharCode;\n\t\n\t\t// Taken from https://mths.be/punycode\n\t\tfunction ucs2decode(string) {\n\t\t\tvar output = [];\n\t\t\tvar counter = 0;\n\t\t\tvar length = string.length;\n\t\t\tvar value;\n\t\t\tvar extra;\n\t\t\twhile (counter < length) {\n\t\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\t\toutput.push(value);\n\t\t\t\t\t\tcounter--;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\t// Taken from https://mths.be/punycode\n\t\tfunction ucs2encode(array) {\n\t\t\tvar length = array.length;\n\t\t\tvar index = -1;\n\t\t\tvar value;\n\t\t\tvar output = '';\n\t\t\twhile (++index < length) {\n\t\t\t\tvalue = array[index];\n\t\t\t\tif (value > 0xFFFF) {\n\t\t\t\t\tvalue -= 0x10000;\n\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t\t}\n\t\t\t\toutput += stringFromCharCode(value);\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\tfunction checkScalarValue(codePoint) {\n\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\t\tthrow Error(\n\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t\t' is not a scalar value'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tfunction createByte(codePoint, shift) {\n\t\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t\t}\n\t\n\t\tfunction encodeCodePoint(codePoint) {\n\t\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\t\treturn stringFromCharCode(codePoint);\n\t\t\t}\n\t\t\tvar symbol = '';\n\t\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t\t}\n\t\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t}\n\t\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t}\n\t\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\t\treturn symbol;\n\t\t}\n\t\n\t\tfunction utf8encode(string) {\n\t\t\tvar codePoints = ucs2decode(string);\n\t\t\tvar length = codePoints.length;\n\t\t\tvar index = -1;\n\t\t\tvar codePoint;\n\t\t\tvar byteString = '';\n\t\t\twhile (++index < length) {\n\t\t\t\tcodePoint = codePoints[index];\n\t\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t\t}\n\t\t\treturn byteString;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tfunction readContinuationByte() {\n\t\t\tif (byteIndex >= byteCount) {\n\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t}\n\t\n\t\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\t\tbyteIndex++;\n\t\n\t\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\t\treturn continuationByte & 0x3F;\n\t\t\t}\n\t\n\t\t\t// If we end up here, its not a continuation byte\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t\n\t\tfunction decodeSymbol() {\n\t\t\tvar byte1;\n\t\t\tvar byte2;\n\t\t\tvar byte3;\n\t\t\tvar byte4;\n\t\t\tvar codePoint;\n\t\n\t\t\tif (byteIndex > byteCount) {\n\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t}\n\t\n\t\t\tif (byteIndex == byteCount) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// Read first byte\n\t\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\t\tbyteIndex++;\n\t\n\t\t\t// 1-byte sequence (no continuation bytes)\n\t\t\tif ((byte1 & 0x80) == 0) {\n\t\t\t\treturn byte1;\n\t\t\t}\n\t\n\t\t\t// 2-byte sequence\n\t\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\t\tif (codePoint >= 0x80) {\n\t\t\t\t\treturn codePoint;\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\t\treturn codePoint;\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 4-byte sequence\n\t\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\tbyte4 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\t\treturn codePoint;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthrow Error('Invalid UTF-8 detected');\n\t\t}\n\t\n\t\tvar byteArray;\n\t\tvar byteCount;\n\t\tvar byteIndex;\n\t\tfunction utf8decode(byteString) {\n\t\t\tbyteArray = ucs2decode(byteString);\n\t\t\tbyteCount = byteArray.length;\n\t\t\tbyteIndex = 0;\n\t\t\tvar codePoints = [];\n\t\t\tvar tmp;\n\t\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\t\tcodePoints.push(tmp);\n\t\t\t}\n\t\t\treturn ucs2encode(codePoints);\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar utf8 = {\n\t\t\t'version': '2.1.2',\n\t\t\t'encode': utf8encode,\n\t\t\t'decode': utf8decode\n\t\t};\n\t\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn utf8;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = utf8;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tvar object = {};\n\t\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\t\tfor (var key in utf8) {\n\t\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.utf8 = utf8;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)(module), (function() { return this; }())))\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Media = __webpack_require__(4);\n\t\n\tvar _Media2 = _interopRequireDefault(_Media);\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Space = function () {\n\t  function Space() {\n\t    _classCallCheck(this, Space);\n\t\n\t    this.state = _Types.entityStates.unknown;\n\t    this.spaceType = _Types.spaceTypes.collection;\n\t    this.representations = [];\n\t    this.unread = false;\n\t  }\n\t\n\t  _createClass(Space, [{\n\t    key: 'getRepresentation',\n\t    value: function getRepresentation(mediaType) {\n\t      if (this.representations == null) {\n\t        return null;\n\t      }\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = this.representations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var media = _step.value;\n\t\n\t          if (media.mediaType === mediaType && media.state === _Types.entityStates.visible) {\n\t            return media;\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.muid = json.muid;\n\t      this.state = json.state;\n\t      this.tagLabel = json.tag_label;\n\t      this.tagColor = json.tag_color;\n\t      this.spaceType = json.type_identifier;\n\t      this.unread = json.unread || false;\n\t      if (json.representations != null) {\n\t        this.representations = json.representations.map(function (json) {\n\t          var media = new _Media2.default();\n\t          media.fromJSON(json);\n\t          return media;\n\t        });\n\t      } else {\n\t        this.representations = null;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      return {\n\t        type_identifier: this.spaceType,\n\t        state: this.state,\n\t        tag_label: this.tagLabel,\n\t        tag_color: this.tagColor,\n\t        unread: this.unread,\n\t        representations: this.representations != null ? this.representations.map(function (media) {\n\t          return media.toJSON();\n\t        }) : null\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return Space;\n\t}();\n\t\n\texports.default = Space;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tvar _Space = __webpack_require__(9);\n\t\n\tvar _Space2 = _interopRequireDefault(_Space);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Link = function () {\n\t  function Link() {\n\t    _classCallCheck(this, Link);\n\t\n\t    this.state = _Types.entityStates.unknown;\n\t  }\n\t\n\t  _createClass(Link, [{\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.muid = json.muid;\n\t      this.state = json.state;\n\t      this.order = json.order;\n\t      if (json.origin_space_muid != null) {\n\t        this.origin = new _Space2.default();\n\t        this.origin.muid = json.origin_space_muid;\n\t      }\n\t      if (json.target_space_muid != null) {\n\t        this.target = new _Space2.default();\n\t        this.target.muid = json.target_space_muid;\n\t      }\n\t      if (json.target_space != null) {\n\t        this.target = new _Space2.default();\n\t        this.target.fromJSON(json.target_space);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Link;\n\t}();\n\t\n\texports.default = Link;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Types = __webpack_require__(5);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar App = function () {\n\t  function App() {\n\t    _classCallCheck(this, App);\n\t  }\n\t\n\t  _createClass(App, [{\n\t    key: 'fromJSON',\n\t    value: function fromJSON(json) {\n\t      this.id = json.id;\n\t      this.name = json.name;\n\t      this.description = json.description;\n\t      this.email = json.email;\n\t      this.webpage = json.webpage;\n\t      this.token = json.token;\n\t      this.state = json.state;\n\t    }\n\t  }, {\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      return {\n\t        name: this.name,\n\t        description: this.description,\n\t        email: this.email,\n\t        webpage: this.webpage\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return App;\n\t}();\n\t\n\texports.default = App;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar environmentTypes = exports.environmentTypes = {\n\t  production: 0,\n\t  stage: 1,\n\t  localhost: 2\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** memex-js-sdk.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 34fc7c7ec4ade54b01d2\n **/","// @flow\n\nimport { Spaces } from './Spaces.js';\nimport { environmentTypes } from './Configuration.js';\nimport Media from './data/Media.js';\nimport Space from './data/Space.js';\nimport Link from './data/Link.js';\nimport App from './data/App.js';\nimport { mediaTypes, mediaDataStates, spaceTypes } from './data/Types.js';\n\nvar Memex = {\n  sharedClient: new Spaces(),\n  environmentTypes: environmentTypes,\n  mediaTypes: mediaTypes,\n  spaceTypes: spaceTypes,\n  mediaDataStates: mediaDataStates,\n  Media: Media,\n  Space: Space,\n  Link: Link,\n  App: App,\n}\n\nexport default Memex;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Exports.js\n **/","// @flow\n\nimport 'whatwg-fetch';\n\nimport { Auth } from './Auth.js';\n\nimport Media from './data/Media.js';\nimport Space from './data/Space.js';\nimport Link from './data/Link.js';\nimport App from './data/App.js';\nimport { mediaTypes, mediaDataStates, spaceTypes } from './data/Types.js';\nimport type { EnvironmentType, Configuration } from './Configuration.js';\nimport { environmentTypes } from './Configuration.js';\n\nconst methods = {\n  GET: 'GET',\n  POST: 'POST'\n};\ntype Method = string;\n\nexport class Spaces {\n\n  _configuration: Configuration;\n  _auth: Auth;\n\n  constructor() {\n    this._configuration = {\n      appToken: \"\",\n      environment: environmentTypes.production\n    }\n    this._setEnvironment(environmentTypes.production)\n  }\n\n  _isConfigured(): bool {\n    if (this._configuration.appToken === \"\") {\n      console.error(\"Missing Memex configuration, call Memex.client.setAppToken('<Your app token>')\");\n      return false;\n    }\n    return true;\n  }\n\n  setAppToken(token: string) {\n    this._configuration.appToken = token;\n    this._auth.appToken = token;\n  }\n\n  _setEnvironment(environment: EnvironmentType) {\n    this._configuration.environment = environment;\n    this._auth = new Auth(this._APIURL(environment));\n    this._auth.appToken = this._configuration.appToken;\n  }\n\n  _APIURL(environment: EnvironmentType): string {\n    switch (environment) {\n      case environmentTypes.production:\n        return 'https://mmx-spaces-api-prod.herokuapp.com';\n      case environmentTypes.stage:\n        return 'https://mmx-spaces-api-stage.herokuapp.com';\n      case environmentTypes.localhost:\n        return 'http://localhost:5000';\n      default:\n        console.error('Unknown environment');\n        return '';\n    }\n  }\n\n  isLoggedIn(): bool {\n    if (!this._isConfigured()) {\n      return false;\n    }\n    return this._auth.isAuthorized();\n  }\n\n  login(email: string, password: string, completion: (token: ?string, success: bool)=>void) {\n    if (!this._isConfigured()) {\n      return;\n    }\n    this._auth.login(email, password, completion);\n  }\n\n  logout() {\n    if (!this._isConfigured()) {\n      return;\n    }\n    this._auth.deauthorize();\n  }\n\n  createCollectionSpace(tag: string, autodump: bool, completion: (space: ?Space, success: bool) => void) {\n    let space = new Space();\n    space.tagLabel = tag;\n    space.tagColor = null;\n    space.spaceType = spaceTypes.collection;\n    space.representations = [];\n    this.createSpace(space, autodump, completion);\n  }\n\n  createImageSpace(imageURL: string, autodump: bool, completion: (space: ?Space, success: bool) => void) {\n    let media = new Media();\n    media.dataDownloadURL = imageURL;\n    media.dataState = mediaDataStates.dataValid;\n    media.mediaType = mediaTypes.source;\n\n    let space = new Space();\n    space.spaceType = spaceTypes.image;\n    space.representations = [media];\n\n    this.createSpace(space, autodump, completion);\n  }\n\n  createWebPageSpace(url: string, autodump: bool, completion: (space: ?Space, success: bool) => void) {\n    let media = new Media();\n    media.setEmbedDataFromString(url);\n    media.dataState = mediaDataStates.dataValid;\n    media.mediaType = mediaTypes.reference;\n\n    let space = new Space();\n    space.spaceType = spaceTypes.webPage;\n    space.representations = [media];\n\n    this.createSpace(space, autodump, completion);\n  }\n\n  createTextSpace(text: string, autodump: bool, completion: (space: ?Space, success: bool) => void) {\n    let media = new Media();\n    media.setEmbedDataFromString(text);\n    media.dataState = mediaDataStates.dataValid;\n    media.mediaType = mediaTypes.source;\n\n    let space = new Space();\n    space.spaceType = spaceTypes.text;\n    space.representations = [media];\n\n    this.createSpace(space, autodump, completion);\n  }\n\n  createSpace(space: Space, autodump: bool, completion: (space: ?Space, success: bool) => void) {\n    let body = {\n      space: space.toJSON(),\n      process: \"sync\",\n      autodump: autodump\n    };\n    this._perform(methods.POST, 'spaces', null, body, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let space = new Space();\n      space.fromJSON(json.space);\n      completion(space, true);\n    });\n  }\n\n  getSpaceLinks(spaceMUID: string, completion: (links: ?Array<Link>, success: bool)=>void) {\n    let path = 'spaces/'+spaceMUID+'/links';\n    let query = {\n      includeTarget: true\n    };\n    this._perform(methods.GET, path, query, null, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let links = [];\n      for (let item of json.links) {\n        let link = new Link();\n        link.fromJSON(item);\n        links.push(link);\n      }\n      completion(links, true);\n    });\n  }\n\n  getSpace(spaceMUID: string, completion: (space: ?Space, success: bool)=>void) {\n    this._perform(\n      methods.GET,\n      'spaces/'+spaceMUID,\n      null,\n      null,\n      (json: ?Object, success: bool) => {\n        if (success === false || json == null) {\n          completion(null, false);\n          return;\n        }\n        let space = new Space();\n        space.fromJSON(json.space);\n        completion(space, true);\n      });\n  }\n\n  getApps(completion: (apps: ?Array<App>, success: bool)=>void) {\n    let path = 'apps';\n    this._perform(methods.GET, path, {}, null, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let apps = [];\n      for (let item of json.apps) {\n        let app = new App();\n        app.fromJSON(item);\n        apps.push(app);\n      }\n      completion(apps, true);\n    });\n  }\n\n  createApp(app: App, completion: (app: ?App, success: bool) => void) {\n    let body = {\n      app: app.toJSON(),\n    };\n    this._perform(methods.POST, 'apps', null, body, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json.app);\n      completion(newApp, true);\n    });\n  }\n\n  updateApp(app: App, completion: (app: ?App, success: bool) => void) {\n    if (app.id === null) {\n      console.error(\"Missing app id\");\n      completion(null, false);\n      return;\n    }\n    let body = {\n      app: app.toJSON(),\n    };\n    this._perform(methods.POST, 'apps/'+app.id, null, body, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json.app);\n      completion(newApp, true);\n    });\n  }\n\n  renewAppToken(appID: number, completion: (app: ?App, success: bool) => void) {\n    this._perform(methods.POST, 'apps/'+appID+\"/renew-token\", null, {}, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json.app);\n      completion(newApp, true);\n    });\n  }\n\n  getApp(id: number, completion: (app: ?App, success: bool) => void) {\n    this._perform(methods.GET, 'apps/'+id, null, null, (json: ?Object, success: bool) => {\n      if (success === false || json == null) {\n        completion(null, false);\n        return;\n      }\n      let newApp = new App();\n      newApp.fromJSON(json.app);\n      completion(newApp, true);\n    });\n  }\n\n  _perform(method: Method, path: string, query: ?Object, body: ?Object, completion: (json: ?Object, success: bool) => void) {\n    if (!this._isConfigured()) {\n      return;\n    }\n    let options = {\n      method: method,\n      body: body != null ? JSON.stringify(body) : null,\n      headers: {\n        'Content-Type': 'application/json',\n        'X-App-Token': this._configuration.appToken\n      }\n    };\n    if (this._auth.userToken != null) {\n      options.headers['X-User-Token'] = this._auth.userToken;\n    }\n    let host = this._APIURL(this._configuration.environment);\n    let url = host + '/' + path;\n    let resultQuery = query;\n    if (resultQuery != null) {\n      let keys = Object.keys(resultQuery);\n      let queryString = keys.reduce(function(array: Array<string>, key: string): Array<string> {\n        if (resultQuery == null) {\n          return array;\n        }\n        let value = resultQuery[key];\n        array.push(key+'='+encodeURIComponent(value));\n        return array;\n      }, []).join('&');\n      url += '?' + queryString;\n    }\n    fetch(url, options)\n      .then((response: Object): Object => {\n        if (response.status < 200 || response.status >= 300) {\n          throw response;\n        } else {\n          return response;\n        }\n      })\n      .then((data: any): Object => {\n        return data.json();\n      })\n      .then((response: Object) => {\n        completion(response, true);\n      },\n      (error: Object) => {\n        completion(null, false);\n      });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Spaces.js\n **/","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/whatwg-fetch/fetch.js\n ** module id = 2\n ** module chunks = 0\n **/","// @flow\n\nimport 'whatwg-fetch';\n\nimport type { Configuration } from './Configuration.js';\n\ntype AuthReponse = {\n  token: ?string;\n}\n\nconst tokenKey = 'token';\n\nexport class Auth {\n\n  userToken: ?string;\n  appToken: string;\n  _host: string;\n\n  constructor(host: string) {\n    this._host = host;\n    this._loadFromStorage();\n  }\n\n  _loadFromStorage() {\n    this.userToken = localStorage.getItem(tokenKey);\n    if (this.userToken === 'null') {\n      this.userToken = null;\n    }\n  }\n\n  _storeIntoStorage() {\n    if (this.userToken != null) {\n      localStorage.setItem(tokenKey, this.userToken);\n    } else {\n      localStorage.removeItem(tokenKey);\n    }\n  }\n\n  isAuthorized(): bool {\n    return this.userToken != null;\n  }\n\n  deauthorize() {\n    this.userToken = null;\n    this._storeIntoStorage();\n  }\n\n  login(email: string,\n    password: string,\n    completion: (token: ?string, success: bool)=>void) {\n    let data = {\n      identity: {\n        email: email\n      },\n      secret: {\n        password: password\n      }\n    };\n    let options = {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'X-App-Token': this.appToken\n      }\n    };\n    let url = this._host + '/users/request-token';\n\n    fetch(url, options)\n      .then((response: Object): Object => {\n        if (response.status < 200 || response.status >= 300) {\n          throw response;\n        } else {\n          return response;\n        }\n      })\n      .then((data: any): AuthReponse => {\n        return data.json();\n      })\n      .then((response: AuthReponse) => {\n        this.userToken = response.token;\n        this._storeIntoStorage();\n        completion(this.userToken, true);\n      },\n      () => {\n        this.userToken = null;\n        completion(null, false);\n      });\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Auth.js\n **/","// @flow\n\nimport type { MediaType, MediaDataState, EntityState } from './Types.js';\nimport { mediaDataStates, mediaTypes, entityStates } from './Types.js';\n\nimport base64 from 'base-64';\nimport utf8 from 'utf8';\n\nexport default class Media {\n\n  muid: ?string;\n  state: EntityState;\n  mediaType: MediaType;\n  embedData: ?ArrayBuffer;\n  dataDownloadURL: ?string;\n  dataState: MediaDataState;\n\n  constructor() {\n    this.state = entityStates.unknown;\n    this.dataState = mediaDataStates.unknown;\n    this.mediaType = mediaTypes.source;\n  }\n\n  setEmbedDataFromBase64(base64: string) {\n    let binaryString = window.atob(base64);\n    let length = binaryString.length;\n    let bytes = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    this.embedData = bytes.buffer;\n  }\n\n  setEmbedDataFromString(value: string) {\n    let length = value.length;\n    let array = new Uint8Array(length);\n    for (let index = 0; index < length; index++) {\n      array[index] = value.charCodeAt(index);\n    }\n    this.embedData = array.buffer;\n  }\n\n  base64EmbedData(): ?string {\n    if (this.embedData == null) {\n      return null;\n    }\n    let binary = '';\n    let bytes = new Uint8Array(this.embedData);\n    let len = bytes.byteLength;\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return window.btoa(binary);\n  }\n\n  textualEmbedData(): ?string {\n    if (this.embedData == null) {\n      return null;\n    }\n    let encoded = this.base64EmbedData();\n    let bytes = base64.decode(encoded);\n    let text = utf8.decode(bytes);\n    return text;\n  }\n\n  fromJSON(json: Object) {\n    this.muid = json.muid;\n    this.state = json.state;\n    this.mediaType = json.type;\n    this.dataState = json.data_state;\n    if (json.embeded_data != null) {\n      this.setEmbedDataFromBase64(json.embeded_data);\n    } else {\n      this.embedData = null;\n    }\n    this.dataDownloadURL = json.data_download_url;\n  }\n\n  toJSON(): Object {\n    return {\n      type: this.mediaType,\n      data_download_url: this.dataDownloadURL,\n      embeded_data: this.base64EmbedData(),\n      data_state: this.dataState\n    };\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Media.js\n **/","// @flow\n\nexport type SpaceType = string;\nexport const spaceTypes = {\n  origin: 'com.memex.origin',\n  webPage: 'com.memex.media.webpage',\n  text: 'com.memex.media.text',\n  image: 'com.memex.media.image',\n  collection: 'com.memex.media.collection'\n};\n\nexport type SpaceProcessingState = number;\nexport const spaceProcessingStates = {\n  done: 0,\n  scheduled: 1\n};\n\nexport type MediaType = string;\nexport const mediaTypes = {\n  reference: 'reference',\n  source: 'source',\n  preview: 'preview',\n  summary: 'summary'\n};\n\nexport type MediaDataState = number;\nexport const mediaDataStates = {\n  unknown: -1,\n  waitingForNewUploadURL: 0,\n  readyForDataUpload: 1,\n  dataValid: 2\n};\n\nexport type EntityState = number;\nexport const entityStates = {\n  unknown: -1,\n  visible: 0,\n  deleted: 1\n};\n\nexport type AppState = number;\nexport const appStates = {\n  new: 0,\n  requested: 1,\n  approved: 2\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Types.js\n **/","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-64/base64.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 7\n ** module chunks = 0\n **/","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.1.2',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/utf8/utf8.js\n ** module id = 8\n ** module chunks = 0\n **/","// @flow\n\nimport Media from './Media.js';\nimport type { SpaceType, SpaceProcessingState, MediaType, EntityState } from './Types.js';\nimport { spaceTypes, spaceProcessingStates, entityStates } from './Types.js';\n\nexport default class Space {\n\n  muid: ?string;\n  state: EntityState;\n  tagLabel: ?string;\n  tagColor: ?string;\n  spaceType: SpaceType;\n  representations: ?Array<Media>;\n  unread: bool;\n\n  constructor() {\n    this.state = entityStates.unknown;\n    this.spaceType = spaceTypes.collection;\n    this.representations = [];\n    this.unread = false;\n  }\n\n  getRepresentation(mediaType: MediaType): ?Media {\n    if (this.representations == null) {\n      return null;\n    }\n    for (let media of this.representations) {\n      if (media.mediaType === mediaType && media.state === entityStates.visible) {\n        return media;\n      }\n    }\n    return null;\n  }\n\n  fromJSON(json: Object) {\n    this.muid = json.muid;\n    this.state = json.state;\n    this.tagLabel = json.tag_label;\n    this.tagColor = json.tag_color;\n    this.spaceType = json.type_identifier;\n    this.unread = json.unread || false;\n    if (json.representations != null) {\n      this.representations = json.representations.map(function(json: Object): Media {\n        let media = new Media();\n        media.fromJSON(json);\n        return media;\n      });\n    } else {\n      this.representations = null;\n    }\n  }\n\n  toJSON(): Object {\n    return {\n      type_identifier: this.spaceType,\n      state: this.state,\n      tag_label: this.tagLabel,\n      tag_color: this.tagColor,\n      unread: this.unread,\n      representations: this.representations != null ? this.representations.map(function(media: Media): Object {\n        return media.toJSON();\n      }) : null\n    };\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Space.js\n **/","// @flow\n\nimport type { EntityState } from './Types.js';\nimport { entityStates } from './Types.js';\nimport Space from './Space.js';\n\nexport default class Link {\n\n  muid: ?string;\n  state: EntityState;\n  order: ?number;\n  origin: Space;\n  target: Space;\n\n  constructor() {\n    this.state = entityStates.unknown;\n  }\n\n  fromJSON(json: Object) {\n    this.muid = json.muid;\n    this.state = json.state;\n    this.order = json.order;\n    if (json.origin_space_muid != null) {\n      this.origin = new Space();\n      this.origin.muid = json.origin_space_muid;\n    }\n    if (json.target_space_muid != null) {\n      this.target = new Space();\n      this.target.muid = json.target_space_muid;\n    }\n    if (json.target_space != null) {\n      this.target = new Space();\n      this.target.fromJSON(json.target_space);\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/Link.js\n **/","// @flow\n\nimport type { AppState } from './Types.js';\nimport { appStates } from './Types.js';\n\nexport default class App {\n\n  id: number;\n  name: ?string;\n  description: ?string;\n  email: ?string;\n  webpage: ?string;\n  token: ?string;\n  state: ?AppState;\n\n  constructor() {\n  }\n\n  fromJSON(json: Object) {\n    this.id = json.id;\n    this.name = json.name;\n    this.description = json.description;\n    this.email = json.email;\n    this.webpage = json.webpage;\n    this.token = json.token;\n    this.state = json.state;\n  }\n\n  toJSON(): Object {\n    return {\n      name: this.name,\n      description: this.description,\n      email: this.email,\n      webpage: this.webpage,\n    };\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/data/App.js\n **/","// @flow\n\nexport type EnvironmentType = number;\nexport const environmentTypes = {\n  production: 0,\n  stage: 1,\n  localhost: 2\n};\n\nexport type Configuration = {\n  appToken: string,\n  environment: EnvironmentType\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Configuration.js\n **/"],"sourceRoot":""}